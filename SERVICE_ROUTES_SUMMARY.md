# üéØ ‡∏™‡∏£‡∏∏‡∏õ Routes ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢

## ‚úÖ ‡πÑ‡∏ü‡∏•‡πå Routes ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß

### 1. routes/serviceRoutes.js
**‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** API ‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
**‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å:** CashSale + InstallmentOrder ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

```http
GET  /api/services/eligibility          # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
POST /api/services/usage                # ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
GET  /api/services/history              # ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
GET  /api/services/customer-lookup      # ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (autocomplete)
```

### 2. routes/cashSaleRoutes.js
**‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• CashSale ‡πÄ‡∏â‡∏û‡∏≤‡∏∞
**‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å:** CashSale ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

```http
GET  /api/cash-sales                    # ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏™‡∏î
GET  /api/cash-sales/:id                # ‡∏î‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏™‡∏î‡∏ï‡∏≤‡∏° ID
GET  /api/cash-sales/search             # ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏™‡∏î
GET  /api/cash-sales/warranty-eligible  # ‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏™‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô
PUT  /api/cash-sales/:id/service-usage  # ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
GET  /api/cash-sales/statistics         # ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏™‡∏î
```

### 3. routes/installmentOrderRoutes.js
**‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• InstallmentOrder ‡πÄ‡∏â‡∏û‡∏≤‡∏∞
**‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å:** InstallmentOrder ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

```http
GET  /api/installment-orders                    # ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏ú‡πà‡∏≠‡∏ô
GET  /api/installment-orders/:id                # ‡∏î‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏ú‡πà‡∏≠‡∏ô‡∏ï‡∏≤‡∏° ID
GET  /api/installment-orders/search             # ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏ú‡πà‡∏≠‡∏ô
GET  /api/installment-orders/warranty-eligible  # ‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏ú‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô
PUT  /api/installment-orders/:id/service-usage  # ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
GET  /api/installment-orders/statistics         # ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏ú‡πà‡∏≠‡∏ô
GET  /api/installment-orders/payment-status/:id # ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
```

## üîç ‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á

### ‡πÉ‡∏ô CashSale
```javascript
// ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£
{ 'individual.phone': { $regex: '0832768390', $options: 'i' } }
{ 'corporate.corporatePhone': { $regex: '0621026930', $options: 'i' } }

// ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠
{ 'individual.firstName': { $regex: '‡∏ô‡∏≤‡πÄ‡∏î‡∏µ‡∏¢', $options: 'i' } }
{ 'individual.lastName': { $regex: '‡∏ó‡∏≤‡∏´‡∏≤', $options: 'i' } }
```

### ‡πÉ‡∏ô InstallmentOrder
```javascript
// ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£
{ 'customer_info.phone': { $regex: '0622070097', $options: 'i' } }

// ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠
{ 'customer_info.firstName': { $regex: '‡∏≠‡∏≤‡∏£‡∏µ‡∏¢', $options: 'i' } }
```

## üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

### ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
- **CashSale**: 13 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
- **InstallmentOrder**: 116 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£

### ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏û‡∏ö:
- **‡∏ô‡∏≤‡πÄ‡∏î‡∏µ‡∏¢ ‡∏ó‡∏≤‡∏´‡∏≤** (0832768390) - ‡∏à‡∏≤‡∏Å CashSale
- **‡∏™‡∏£‡∏¥‡∏ï‡∏≤ ‡πÄ‡∏û‡πá‡∏ä‡∏£‡∏£‡∏±‡∏ï‡∏ô‡πå** (0621026930) - ‡∏à‡∏≤‡∏Å CashSale  
- **‡∏≠‡∏≤‡∏£‡∏µ‡∏¢ ‡∏Å‡∏≤‡∏ã** (0622070097) - ‡∏à‡∏≤‡∏Å InstallmentOrder

### ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏à‡∏£‡∏¥‡∏á:
- **‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î**: RE2568070019
- **‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î**: INST2568070012

## üöÄ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô services.html

### API ‡∏ó‡∏µ‡πà services.html ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ:
```javascript
// ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
GET /api/services/eligibility?phone=0832768390
GET /api/services/eligibility?customerName=‡∏ô‡∏≤‡πÄ‡∏î‡∏µ‡∏¢

// ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
POST /api/services/usage
{
  "purchaseId": "688770e069a0e3c9cda9f4af",
  "purchaseType": "cash",
  "serviceType": "phone-film",
  "deviceModel": "iPhone 15",
  "serviceReason": "‡∏ü‡∏¥‡∏•‡πå‡∏°‡πÅ‡∏ï‡∏Å"
}
```

## üéØ ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö server.js

```javascript
// ‡πÉ‡∏ô server.js (‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 1235-1238)
app.use("/api/services", serviceRoutes);
app.use("/api/cash-sales", cashSaleRoutes);
app.use("/api/installment-orders", installmentOrderRoutes);
```

## ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á

### ‡πÑ‡∏°‡πà‡∏°‡∏µ Mock Data ‡πÄ‡∏•‡∏¢:
- ‚ùå ‡∏•‡∏ö mock data ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å services.html ‡πÅ‡∏•‡πâ‡∏ß
- ‚úÖ Routes ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å CashSale ‡πÅ‡∏•‡∏∞ InstallmentOrder ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‚úÖ ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- ‚úÖ ‡πÉ‡∏ä‡πâ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏£‡∏¥‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô
- ‚úÖ ‡πÉ‡∏ä‡πâ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠

### ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö:
```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API
node test-new-api.js

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô browser
http://localhost:3000/views/pattani/services.html?branch=PATTANI
```

### ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö:
- `0832768390` - ‡∏ô‡∏≤‡πÄ‡∏î‡∏µ‡∏¢ ‡∏ó‡∏≤‡∏´‡∏≤
- `0621026930` - ‡∏™‡∏£‡∏¥‡∏ï‡∏≤ ‡πÄ‡∏û‡πá‡∏ä‡∏£‡∏£‡∏±‡∏ï‡∏ô‡πå
- `0622070097` - ‡∏≠‡∏≤‡∏£‡∏µ‡∏¢ ‡∏Å‡∏≤‡∏ã

## üéâ ‡∏™‡∏£‡∏∏‡∏õ

**‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå routes ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö CashSale ‡πÅ‡∏•‡∏∞ InstallmentOrder ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!**

- **routes/serviceRoutes.js** - API ‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á 2 models
- **routes/cashSaleRoutes.js** - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ CashSale ‡πÄ‡∏â‡∏û‡∏≤‡∏∞
- **routes/installmentOrderRoutes.js** - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ InstallmentOrder ‡πÄ‡∏â‡∏û‡∏≤‡∏∞

**‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡πÑ‡∏°‡πà‡∏°‡∏µ Mock Data!** üöÄ
