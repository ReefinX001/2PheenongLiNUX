<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤ | 2 ‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á ‡πÇ‡∏°‡∏ö‡∏≤‡∏¢</title>
    <link rel="stylesheet" href="/views/FrontStore/styles.css?v=19">
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Jobs page specific styles following admin pattern */
        .page-layout { display:flex; min-height:calc(100vh - 64px); }
        .page-content { flex:1; padding:40px 50px; }
        .page-section-title { font-size:26px; font-weight:600; margin:0 0 18px; letter-spacing:-.5px; }
        .panel { background:var(--gradient-card); border:1px solid var(--border-light); border-radius:24px; padding:28px 30px 32px; box-shadow:0 8px 35px -10px var(--shadow-medium); position:relative; overflow:hidden; }
        .panel + .panel { margin-top:40px; }
        .panel h3 { font-size:20px; margin:0 0 16px; font-weight:600; letter-spacing:-.25px; }
        .jobs-table { width:100%; border-collapse:collapse; margin-top:20px; background:#fff; border-radius:16px; overflow:hidden; box-shadow:0 4px 16px -6px var(--shadow-light); }
        .jobs-table th { background:var(--light-gray); padding:16px 20px; text-align:left; font-weight:600; font-size:14px; letter-spacing:.5px; color:var(--text-primary); border-bottom:1px solid var(--border-light); }
        .jobs-table td { padding:18px 20px; border-bottom:1px solid var(--border-light); font-size:14px; }
        .jobs-table tr:last-child td { border-bottom:none; }
        .jobs-table tr:hover { background:var(--soft-blue); }
        .badge { display:inline-block; font-size:11px; font-weight:600; padding:6px 12px 5px; border-radius:999px; letter-spacing:.5px; }
        .badge.primary { background:var(--primary-blue); color:#fff; }
        .badge.success { background:#059669; color:#fff; }
        .badge.warning { background:#d97706; color:#fff; }
        .badge.light { background:var(--light-gray); color:var(--text-primary); }
        .btn { cursor:pointer; appearance:none; border:none; background:var(--primary-blue); color:#fff; font-family:inherit; font-size:13px; font-weight:500; letter-spacing:.25px; line-height:1; padding:10px 18px; border-radius:30px; display:inline-flex; align-items:center; gap:6px; box-shadow:0 4px 14px -4px var(--shadow-medium); transition:.2s; }
        .btn:hover { background:#0051D0; transform:translateY(-1px); box-shadow:0 6px 18px -6px var(--shadow-hover); }
        .btn.outline { background:transparent; color:var(--primary-blue); border:1px solid var(--primary-blue); }
        .btn.outline:hover { background:var(--primary-blue); color:#fff; }
        .empty-state { text-align:center; padding:60px 20px 58px; background:var(--soft-blue); border:2px dashed var(--border-light); border-radius:28px; font-size:15px; color:var(--text-secondary); margin-top:20px; }
        .empty-state i { font-size:48px; margin-bottom:16px; color:var(--text-secondary); opacity:0.5; }
        .footer-spacer { height:60px; }
        @media (max-width:1100px){ .page-content { padding:36px 34px 60px; } }
        @media (max-width:640px){ .page-content { padding:30px 24px 70px; } .panel { padding:26px 24px 30px; } .page-section-title { font-size:22px; } .jobs-table { font-size:13px; } .jobs-table th, .jobs-table td { padding:12px 16px; } }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <div class="nav-links">
                <a href="Promotions" class="nav-link">‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</a>
                <a href="Product" class="nav-link">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a>
                <div class="nav-brand">
                    <a href="/" class="brand-link" title="‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å">
                        <img src="/views/FrontStore/Logo2png.png" alt="2‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á ‡πÇ‡∏°‡∏ö‡∏≤‡∏¢" class="brand-logo">
                    </a>
                </div>
                <a href="JoinUs" class="nav-link">‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a>
                <a href="Contact" class="nav-link">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
            </div>
        </div>
    </nav>

    <div class="page-layout">
        <main class="page-content">
            <section aria-labelledby="jobs-title">
                <div class="panel">
                    <div style="display:flex; justify-content:space-between; align-items:flex-start; gap:30px; flex-wrap:wrap;">
                        <div>
                            <h1 id="jobs-title" class="page-section-title">‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</h1>
                            <p style="color:var(--text-secondary); font-size:14px; margin-top:-6px;">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏™‡∏≤‡∏Ç‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</p>
                        </div>
                        <div style="display:flex; gap:12px; flex-wrap:wrap;">
                            <button class="btn outline" onclick="refreshJobs()"><i class="fa-solid fa-rotate"></i> ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä</button>
                        </div>
                    </div>
                    
                    <!-- Jobs Table Container -->
                    <div id="jobsContainer">
                        <!-- Table will be populated by JavaScript -->
                    </div>

                    <!-- Empty State -->
                    <div id="emptyState" class="empty-state" style="display:none;">
                        <i class="fa-solid fa-briefcase"></i>
                        <h3 style="margin:0 0 8px; font-size:18px; font-weight:600;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö</h3>
                        <p style="margin:0; color:var(--text-secondary);">‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏ß‡πà‡∏≤‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏≤‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</p>
                    </div>
                </div>
            </section>
            <div class="footer-spacer"></div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-main">
                <div class="footer-section">
                    <div class="footer-brand">
                        <img src="/views/FrontStore/Logo2png.png" alt="2‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á ‡πÇ‡∏°‡∏ö‡∏≤‡∏¢" class="footer-logo">
                        <h2 class="footer-title">2 ‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á ‡πÇ‡∏°‡∏ö‡∏≤‡∏¢</h2>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3 class="footer-contact-title">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</h3>
                    <div class="footer-contact">
                        <p class="company-name">‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó 2 ‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á ‡πÇ‡∏°‡∏ö‡∏≤‡∏¢ ‡∏à‡∏≥‡∏Å‡∏±‡∏î</p>
                        <p class="company-address">148/91 ‡∏ï‡∏≥‡∏ö‡∏• ‡∏£‡∏π‡∏™‡∏∞‡∏°‡∏¥‡πÅ‡∏• ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ 94000</p>
                        <p class="company-phone">üìû 092 427 0769</p>
                        <p class="company-email">‚úâÔ∏è support@2pheenong.com</p>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3 class="footer-menu-title">2 ‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á ‡πÇ‡∏°‡∏ö‡∏≤‡∏¢</h3>
                    <div class="footer-menu">
                        <a href="/Promotions" class="footer-link">‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</a>
                        <a href="/Contact" class="footer-link">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
                        <a href="/terms" class="footer-link">‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</a>
                        <a href="/privacy" class="footer-link">‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</a>
                        <a href="#" onclick="if(cookieConsent) cookieConsent.showSettings(); return false;" class="footer-link">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ</a>
                    </div>
                </div>
            </div>
            
            <!-- Partner Logos Section -->
            <div class="footer-partners">
                <h3 class="partners-title">‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</h3>
                <div class="partner-logos">
                    <img src="/views/FrontStore/dbd_logo-20140312-175003.png" alt="DBD" class="partner-logo">
                    <img src="/views/FrontStore/ktc_logo.png" alt="KTC" class="partner-logo">
                    <img src="/views/FrontStore/images.png" alt="Partner" class="partner-logo">
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 2 ‡∏û‡∏µ‡πà‡∏ô‡πâ‡∏≠‡∏á ‡πÇ‡∏°‡∏ö‡∏≤‡∏¢. ‡∏™‡∏á‡∏ß‡∏ô‡∏•‡∏¥‡∏Ç‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏£</p>
            </div>
        </div>
    </footer>

    <script>
        // Job data - you can modify this array to control available positions
        const jobs = [
            // Uncomment the lines below to show jobs, or leave empty to show "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö"
            // { title: '‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô', branch: '‡∏™‡∏≤‡∏Ç‡∏≤‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ', type: '‡πÄ‡∏ï‡πá‡∏°‡πÄ‡∏ß‡∏•‡∏≤', salary: '‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á + ‡∏Ñ‡∏≠‡∏°‡∏°‡∏¥‡∏ä‡∏ä‡∏±‡πà‡∏ô', badgeColor: 'primary' },
            // { title: '‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏û‡∏à/‡∏ï‡∏±‡∏î‡∏ï‡πà‡∏≠‡∏†‡∏≤‡∏û', branch: '‡∏™‡∏≤‡∏Ç‡∏≤‡∏¢‡∏∞‡∏£‡∏±‡∏á', type: '‡πÄ‡∏ï‡πá‡∏°‡πÄ‡∏ß‡∏•‡∏≤', salary: '‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á', badgeColor: 'success' },
            // { title: '‡∏ä‡πà‡∏≤‡∏á‡∏ã‡πà‡∏≠‡∏°‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠', branch: '‡∏™‡∏≤‡∏Ç‡∏≤‡πÇ‡∏Ñ‡∏Å‡πÇ‡∏û‡∏ò‡∏¥‡πå', type: '‡πÄ‡∏ï‡πá‡∏°‡πÄ‡∏ß‡∏•‡∏≤', salary: '‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á', badgeColor: 'warning' }
        ];

        async function loadJobsFromAPI() {
            try {
                const response = await fetch('/api/frontstore/jobs/active');
                const data = await response.json();
        
                if (data.success) {
                    jobs.length = 0; // Clear existing jobs array
                    jobs.push(...data.data); // Add jobs from API
                    renderJobs();
                } else {
                    console.error('Failed to load jobs:', data.message);
                    renderJobs(); // This will show empty state
                }
            } catch (error) {
                console.error('Error loading jobs:', error);
                renderJobs(); // This will show empty state
            }
        }

        function renderJobs() {
            const container = document.getElementById('jobsContainer');
            const emptyState = document.getElementById('emptyState');
        
            if (jobs.length === 0) {
                // Show empty state
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
        
            // Hide empty state and show table
            emptyState.style.display = 'none';
        
            const tableHTML = `
                <table class="jobs-table">
                    <thead>
                        <tr>
                            <th><i class="fa-solid fa-briefcase"></i> ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</th>
                            <th><i class="fa-solid fa-building"></i> ‡∏™‡∏≤‡∏Ç‡∏≤</th>
                            <th><i class="fa-solid fa-clock"></i> ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏á‡∏≤‡∏ô</th>
                            <th><i class="fa-solid fa-money-bill"></i> ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</th>
                            <th style="text-align:center;"><i class="fa-solid fa-user-plus"></i> ‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${jobs.map(job => `
                            <tr>
                                <td>
                                    <div style="font-weight:600; color:var(--text-primary);">${job.title}</div>
                                    ${job.description ? `<div style="font-size:12px; color:var(--text-secondary); margin-top:4px;">${job.description}</div>` : ''}
                                </td>
                                <td>
                                    <span class="badge ${job.badgeColor}">${job.branch}</span>
                                </td>
                                <td>
                                    <span class="badge light">${job.type}</span>
                                </td>
                                <td style="color:var(--text-primary); font-weight:500;">${job.salary}</td>
                                <td style="text-align:center;">
                                    <button class="btn outline" onclick="applyForJob('${job.title}')">
                                        <i class="fa-solid fa-paper-plane"></i> ‡∏™‡∏°‡∏±‡∏Ñ‡∏£
                                    </button>
                                </td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
        
            container.innerHTML = tableHTML;
        }

        function refreshJobs() {
            // Add loading animation
            const container = document.getElementById('jobsContainer');
            container.innerHTML = '<div style="text-align:center; padding:40px;"><i class="fa-solid fa-spinner fa-spin" style="font-size:24px; color:var(--primary-blue);"></i><br><br>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>';
        
            // Load jobs from API
            setTimeout(() => {
                loadJobsFromAPI();
            }, 500);
        }

        function applyForJob(jobTitle) {
            alert(`‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏á‡∏≤‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ${jobTitle}\n‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: 092 427 0769`);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadJobsFromAPI();
        });
    </script>
    <script src="/views/FrontStore/cookieConsent.js"></script>
</body>
</html>


