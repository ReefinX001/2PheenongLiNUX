<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>POS - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤ (Modular Notifications)</title>

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Modular Notification System -->
  <link rel="stylesheet" href="/css/notification-modules.css">
  
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Prompt', 'sans-serif'],
          }
        }
      }
    };
  </script>

  <style>
    body {
      background: linear-gradient(125deg, #eef2f7 0%, #e0e7ef 60%, #f2f8fc 100%);
      font-family: 'Prompt', sans-serif;
    }
    .card-hover {
      transition: transform 0.3s cubic-bezier(.4,2.3,.3,1), box-shadow 0.35s;
      border-radius: 16px;
    }
    .card-hover:hover {
      transform: scale(1.03) translateY(-4px);
      box-shadow: 0 16px 32px rgba(31,38,135,0.17);
      border: 1.5px solid #06b6d4;
    }
    .glass-card {
      background: rgba(255,255,255,0.7);
      backdrop-filter: blur(18px);
      border: 1px solid rgba(255,255,255,0.3);
    }
  </style>
</head>

<body class="dark:bg-gray-900 dark:text-white min-h-screen">

  <!-- Navbar -->
  <nav class="glass-card shadow-lg p-4 sticky top-0 z-20">
    <div class="max-w-7xl mx-auto flex justify-between items-center">
      <!-- Logo -->
      <div class="flex items-center space-x-3">
        <div class="h-12 w-12 rounded-xl bg-cyan-500 flex items-center justify-center text-white shadow-lg">
          <i class="bi bi-shop text-2xl"></i>
        </div>
        <div>
          <h1 class="font-bold text-xl">POS System</h1>
          <p class="text-sm text-cyan-600">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô</p>
        </div>
      </div>

      <!-- Right Section -->
      <div class="flex items-center space-x-4">
        <!-- Dark Mode Toggle -->
        <button id="btnToggleDarkMode" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 transition-colors">
          <i class="bi bi-moon-fill dark:hidden"></i>
          <i class="bi bi-sun-fill hidden dark:block"></i>
        </button>

        <!-- Modular Notifications -->
        <div class="relative" id="notificationWrapper">
          <button id="notificationButton" class="notification-button">
            <i class="bi bi-bell-fill text-lg"></i>
          </button>
          <span id="notificationDot" class="notification-dot hidden"></span>
          <span id="notificationBadge" class="notification-badge hidden">0</span>
          
          <!-- Notification Dropdown -->
          <div id="notificationDropdown" class="notification-dropdown hidden">
            <div class="notification-dropdown-header">
              <h3 class="notification-dropdown-title">‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô POS</h3>
              <button class="mark-all-read text-sm text-cyan-600 hover:underline">‡∏≠‡πà‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß</button>
            </div>
            <div class="notification-dropdown-content">
              <div class="notification-loading">
                <div class="notification-loading-spinner"></div>
                ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô...
              </div>
            </div>
            <div class="notification-dropdown-footer">
              <a href="#" class="text-sm">‡∏î‡∏π‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</a>
            </div>
          </div>
        </div>

        <!-- User Info -->
        <div class="flex items-center space-x-2 glass-card px-3 py-2 rounded-lg">
          <i class="bi bi-person-circle text-cyan-500"></i>
          <span id="currentUser" class="text-sm font-medium">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="max-w-7xl mx-auto px-4 py-6">
    
    <!-- Welcome Section -->
    <div class="glass-card rounded-xl p-6 mb-6 shadow-lg">
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-2xl font-bold mb-2">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö POS</h2>
          <p class="text-gray-600 dark:text-gray-300">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô</p>
        </div>
        <div class="hidden md:block">
          <div class="text-right">
            <div class="text-sm text-gray-500">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</div>
            <div id="currentDate" class="font-semibold"></div>
            <div id="currentTime" class="text-sm text-cyan-600"></div>
          </div>
        </div>
      </div>
      
      <!-- Quick Actions -->
      <div class="mt-4 flex gap-3">
        <button onclick="simulatePOSActivity()" class="px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors text-sm">
          <i class="bi bi-play-circle mr-1"></i> ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° POS
        </button>
        <button onclick="showSystemStatus()" class="px-4 py-2 border border-cyan-300 text-cyan-600 rounded-lg hover:bg-cyan-50 transition-colors text-sm">
          <i class="bi bi-info-circle mr-1"></i> ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö
        </button>
      </div>
    </div>

    <!-- Branch Selection -->
    <div class="glass-card rounded-xl p-6 shadow-lg">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-semibold flex items-center">
          <i class="bi bi-shop mr-2 text-cyan-500"></i>
          ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô
        </h3>
        <span id="branchCount" class="px-3 py-1 bg-cyan-100 text-cyan-700 rounded-full text-sm font-medium">
          ‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ: 4 ‡∏™‡∏≤‡∏Ç‡∏≤
        </span>
      </div>
      
      <!-- Branch Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        
        <!-- Branch 1: ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà -->
        <div class="card-hover glass-card p-6 cursor-pointer relative" onclick="selectBranch('00000', '‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà')">
          <div class="absolute top-2 right-2">
            <span class="px-2 py-1 bg-blue-100 text-blue-600 rounded-full text-xs font-medium">
              ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà
            </span>
          </div>
          <div class="text-center">
            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3">
              <i class="bi bi-building text-2xl text-blue-500"></i>
            </div>
            <h4 class="font-semibold mb-1">‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà</h4>
            <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">123 ‡∏ñ‡∏ô‡∏ô‡∏´‡∏•‡∏±‡∏Å ‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÉ‡∏´‡∏ç‡πà</p>
            <div class="flex items-center justify-center text-xs text-green-600">
              <span class="w-2 h-2 bg-green-500 rounded-full mr-1"></span>
              ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå
            </div>
          </div>
          <span id="status-main" class="absolute bottom-2 left-2 w-3 h-3 bg-gray-300 rounded-full"></span>
        </div>

        <!-- Branch 2: ‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ -->
        <div class="card-hover glass-card p-6 cursor-pointer relative" onclick="selectBranch('PT001', '‡∏™‡∏≤‡∏Ç‡∏≤‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ')">
          <div class="text-center">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">
              <i class="bi bi-shop text-2xl text-green-500"></i>
            </div>
            <h4 class="font-semibold mb-1">‡∏™‡∏≤‡∏Ç‡∏≤‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ</h4>
            <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">456 ‡∏ñ‡∏ô‡∏ô‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ</p>
            <div class="flex items-center justify-center text-xs text-green-600">
              <span class="w-2 h-2 bg-green-500 rounded-full mr-1"></span>
              ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå
            </div>
          </div>
          <span id="status-pattani" class="absolute bottom-2 left-2 w-3 h-3 bg-gray-300 rounded-full"></span>
        </div>

        <!-- Branch 3: ‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà -->
        <div class="card-hover glass-card p-6 cursor-pointer relative" onclick="selectBranch('HY001', '‡∏™‡∏≤‡∏Ç‡∏≤‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà')">
          <div class="text-center">
            <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3">
              <i class="bi bi-shop text-2xl text-yellow-500"></i>
            </div>
            <h4 class="font-semibold mb-1">‡∏™‡∏≤‡∏Ç‡∏≤‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà</h4>
            <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">789 ‡∏ñ‡∏ô‡∏ô‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà</p>
            <div class="flex items-center justify-center text-xs text-green-600">
              <span class="w-2 h-2 bg-green-500 rounded-full mr-1"></span>
              ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå
            </div>
          </div>
          <span id="status-hatyai" class="absolute bottom-2 left-2 w-3 h-3 bg-gray-300 rounded-full"></span>
        </div>

        <!-- Branch 4: ‡∏™‡∏á‡∏Ç‡∏•‡∏≤ -->
        <div class="card-hover glass-card p-6 cursor-pointer relative" onclick="selectBranch('SK001', '‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏á‡∏Ç‡∏•‡∏≤')">
          <div class="text-center">
            <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3">
              <i class="bi bi-shop text-2xl text-purple-500"></i>
            </div>
            <h4 class="font-semibold mb-1">‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏á‡∏Ç‡∏•‡∏≤</h4>
            <p class="text-sm text-gray-600 dark:text-gray-300 mb-3">321 ‡∏ñ‡∏ô‡∏ô‡∏™‡∏á‡∏Ç‡∏•‡∏≤</p>
            <div class="flex items-center justify-center text-xs text-orange-600">
              <span class="w-2 h-2 bg-orange-500 rounded-full mr-1"></span>
              ‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á
            </div>
          </div>
          <span id="status-songkhla" class="absolute bottom-2 left-2 w-3 h-3 bg-gray-300 rounded-full"></span>
        </div>

      </div>
    </div>

    <!-- System Information -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
      
      <!-- POS Status -->
      <div class="glass-card rounded-xl p-6 shadow-lg">
        <h4 class="font-semibold mb-3 flex items-center">
          <i class="bi bi-graph-up text-cyan-500 mr-2"></i>
          ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ POS
        </h4>
        <div class="space-y-2">
          <div class="flex justify-between">
            <span class="text-sm">‡∏™‡∏≤‡∏Ç‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span>
            <span class="text-sm font-medium text-green-600">3/4</span>
          </div>
          <div class="flex justify-between">
            <span class="text-sm">‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</span>
            <span class="text-sm font-medium">‡∏ø25,680</span>
          </div>
          <div class="flex justify-between">
            <span class="text-sm">‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢</span>
            <span class="text-sm font-medium">10:35 ‡∏ô.</span>
          </div>
        </div>
      </div>

      <!-- Recent Activity -->
      <div class="glass-card rounded-xl p-6 shadow-lg">
        <h4 class="font-semibold mb-3 flex items-center">
          <i class="bi bi-clock-history text-green-500 mr-2"></i>
          ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
        </h4>
        <div class="space-y-2 text-sm">
          <div class="flex items-center">
            <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>
            <span>‡∏Ç‡∏≤‡∏¢‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏ø1,500</span>
          </div>
          <div class="flex items-center">
            <span class="w-2 h-2 bg-blue-500 rounded-full mr-2"></span>
            <span>‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏Ç‡∏≤‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ</span>
          </div>
          <div class="flex items-center">
            <span class="w-2 h-2 bg-yellow-500 rounded-full mr-2"></span>
            <span>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span>
          </div>
        </div>
      </div>

      <!-- Quick Stats -->
      <div class="glass-card rounded-xl p-6 shadow-lg">
        <h4 class="font-semibold mb-3 flex items-center">
          <i class="bi bi-speedometer2 text-purple-500 mr-2"></i>
          ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß
        </h4>
        <div class="space-y-2">
          <div class="flex justify-between">
            <span class="text-sm">‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</span>
            <span class="text-sm font-medium">47</span>
          </div>
          <div class="flex justify-between">
            <span class="text-sm">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</span>
            <span class="text-sm font-medium">8</span>
          </div>
          <div class="flex justify-between">
            <span class="text-sm">‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏ö‡∏¥‡∏•</span>
            <span class="text-sm font-medium">‡∏ø546</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Modular Notification System -->
  <script src="/js/notification-modules.js"></script>

  <!-- Main JavaScript -->
  <script>
    // Initialize POS module
    document.addEventListener('DOMContentLoaded', () => {
      // Set current module to POS
      if (window.moduleNotificationSystem) {
        window.moduleNotificationSystem.setCurrentModule('pos');
      }
    
      // Initialize UI
      updateDateTime();
      setInterval(updateDateTime, 1000);
    
      // Welcome notification
      setTimeout(() => {
        showModuleToast('üè™ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö POS', 'success');
    
        addModuleNotification({
          title: 'üè™ ‡∏£‡∏∞‡∏ö‡∏ö POS',
          message: '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß',
          type: 'success',
          module: 'pos'
        });
      }, 1000);
    
      console.log('üè™ POS Frontstore with Modular Notifications initialized');
    });

    // Branch Selection
    function selectBranch(branchCode, branchName) {
      // Show loading notification
      showModuleToast(`‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà${branchName}...`, 'info');
    
      // Activate status indicator
      const statusMap = {
        '00000': 'main',
        'PT001': 'pattani',
        'HY001': 'hatyai',
        'SK001': 'songkhla'
      };
    
      const statusId = statusMap[branchCode];
      if (statusId) {
        activateStatus(statusId);
      }
    
      // Simulate navigation delay
      setTimeout(() => {
        showModuleToast(`‚úÖ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà${branchName}‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à`, 'success');
    
        addModuleNotification({
          title: `üè™ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà${branchName}`,
          message: `‡∏£‡∏´‡∏±‡∏™‡∏™‡∏≤‡∏Ç‡∏≤: ${branchCode} - ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö POS`,
          type: 'success',
          module: 'pos'
        });
    
        // In real app, redirect to branch POS system
        console.log(`Navigating to branch: ${branchCode} - ${branchName}`);
      }, 1500);
    }

    // Simulate POS Activity
    function simulatePOSActivity() {
      const activities = [
        { message: 'üõí ‡∏Ç‡∏≤‡∏¢‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏ø850', type: 'success', delay: 500 },
        { message: 'üìã ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à #12345', type: 'info', delay: 1000 },
        { message: 'üí∞ ‡∏£‡∏±‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î ‡∏ø1,000', type: 'success', delay: 1500 },
        { message: 'üì± ‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', type: 'info', delay: 2000 },
        { message: '‚ö†Ô∏è ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ iPhone 15 ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 2 ‡∏ä‡∏¥‡πâ‡∏ô', type: 'warning', delay: 2500 },
        { message: '‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô', type: 'success', delay: 3000 }
      ];

      showModuleToast('üé¨ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° POS...', 'info');

      activities.forEach(activity => {
        setTimeout(() => {
          showModuleToast(activity.message, activity.type, { module: 'pos' });
    
          addModuleNotification({
            title: 'üè™ ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° POS',
            message: activity.message,
            type: activity.type,
            module: 'pos'
          });
        }, activity.delay);
      });

      // Activate all branch status indicators
      setTimeout(() => {
        ['main', 'pattani', 'hatyai'].forEach((branch, index) => {
          setTimeout(() => activateStatus(branch), index * 200);
        });
      }, 3500);
    }

    // Show System Status
    function showSystemStatus() {
      if (window.moduleNotificationSystem) {
        const notifications = window.moduleNotificationSystem.notifications || [];
        const activeToasts = window.moduleNotificationSystem.activeToasts || [];
    
        showModuleToast(`üìä ‡∏£‡∏∞‡∏ö‡∏ö: ${notifications.length} ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô, ${activeToasts.length} Toast`, 'info');
    
        addModuleNotification({
          title: 'üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö',
          message: `‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${notifications.length}, Toast ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô: ${activeToasts.length}`,
          type: 'info',
          module: 'pos'
        });
    
        console.log('System Status:', {
          currentModule: window.moduleNotificationSystem.currentModule,
          totalNotifications: notifications.length,
          activeToasts: activeToasts.length
        });
      }
    }

    // Helper Functions
    function updateDateTime() {
      const now = new Date();
      const dateEl = document.getElementById('currentDate');
      const timeEl = document.getElementById('currentTime');
    
      if (dateEl) {
        dateEl.textContent = now.toLocaleDateString('th-TH', {
          day: 'numeric',
          month: 'short',
          year: 'numeric'
        });
      }
    
      if (timeEl) {
        timeEl.textContent = now.toLocaleTimeString('th-TH', {
          hour: '2-digit',
          minute: '2-digit'
        });
      }
    }

    function activateStatus(statusId) {
      const status = document.getElementById(`status-${statusId}`);
      if (status) {
        status.classList.remove('bg-gray-300');
        status.classList.add('bg-cyan-500', 'animate-pulse');
        setTimeout(() => {
          status.classList.remove('bg-cyan-500', 'animate-pulse');
          status.classList.add('bg-gray-300');
        }, 3000);
      }
    }

    // Dark Mode Toggle
    document.getElementById('btnToggleDarkMode')?.addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');
      const isDark = document.documentElement.classList.contains('dark');
      localStorage.setItem('darkMode', isDark);
    
      showModuleToast(`üåô ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô${isDark ? '‡πÇ‡∏´‡∏°‡∏î‡∏°‡∏∑‡∏î' : '‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏ß‡πà‡∏≤‡∏á'}`, 'info');
    });

    // Load saved dark mode
    if (localStorage.getItem('darkMode') === 'true') {
      document.documentElement.classList.add('dark');
    }

    // Auto-generate notifications every 10 seconds
    setInterval(() => {
      const randomNotifications = [
        { message: 'üîî ‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô', type: 'info' },
        { message: 'üí≥ ‡∏£‡∏±‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡∏ú‡πà‡∏≤‡∏ô QR Code', type: 'success' },
        { message: 'üì¶ ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô', type: 'info' },
        { message: '‚ö° ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥', type: 'info' },
        { message: 'üéØ ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏õ‡πâ‡∏≤ 80%', type: 'success' }
      ];
    
      const randomNotif = randomNotifications[Math.floor(Math.random() * randomNotifications.length)];
    
      addModuleNotification({
        title: 'üè™ POS ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥',
        message: randomNotif.message,
        type: randomNotif.type,
        module: 'pos'
      });
    }, 15000);
  </script>

</body>
</html> 