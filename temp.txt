[TAILING] Tailing last 300 lines for [server] process (change the value with --lines option)
C:\Users\Administrator\.pm2\logs\server-error.log last 300 lines:
0|server   | (node:5988) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5988) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5988) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5988) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5988) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5988) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | Error: listen EADDRINUSE: address already in use 0.0.0.0:3000
0|server   |     at Server.setupListenHandle [as _listen2] (node:net:1817:16)
0|server   |     at listenInCluster (node:net:1865:12)
0|server   |     at doListen (node:net:2014:7)
0|server   |     at process.processTicksAndRejections (node:internal/process/task_queues:83:21) {
0|server   |   code: 'EADDRINUSE',
0|server   |   errno: -4091,
0|server   |   syscall: 'listen',
0|server   |   address: '0.0.0.0',
0|server   |   port: 3000
0|server   | }
0|server   | (node:5400) [MONGOOSE] Warning: Duplicate schema index on {"personalInfo.phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (Use `node --trace-warnings ...` to show where the warning was created)
0|server   | (node:5400) [MONGOOSE] Warning: Duplicate schema index on {"depositReceiptId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5400) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5400) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5400) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5400) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5400) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5400) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5400) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5400) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | Error: listen EADDRINUSE: address already in use 0.0.0.0:3000
0|server   |     at Server.setupListenHandle [as _listen2] (node:net:1817:16)
0|server   |     at listenInCluster (node:net:1865:12)
0|server   |     at doListen (node:net:2014:7)
0|server   |     at process.processTicksAndRejections (node:internal/process/task_queues:83:21) {
0|server   |   code: 'EADDRINUSE',
0|server   |   errno: -4091,
0|server   |   syscall: 'listen',
0|server   |   address: '0.0.0.0',
0|server   |   port: 3000
0|server   | }
0|server   | (node:2760) [MONGOOSE] Warning: Duplicate schema index on {"personalInfo.phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (Use `node --trace-warnings ...` to show where the warning was created)
0|server   | (node:2760) [MONGOOSE] Warning: Duplicate schema index on {"depositReceiptId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:2760) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:2760) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:2760) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:2760) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:2760) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:2760) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:2760) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:2760) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | Error: listen EADDRINUSE: address already in use 0.0.0.0:3000
0|server   |     at Server.setupListenHandle [as _listen2] (node:net:1817:16)
0|server   |     at listenInCluster (node:net:1865:12)
0|server   |     at doListen (node:net:2014:7)
0|server   |     at process.processTicksAndRejections (node:internal/process/task_queues:83:21) {
0|server   |   code: 'EADDRINUSE',
0|server   |   errno: -4091,
0|server   |   syscall: 'listen',
0|server   |   address: '0.0.0.0',
0|server   |   port: 3000
0|server   | }
0|server   | (node:6208) [MONGOOSE] Warning: Duplicate schema index on {"personalInfo.phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (Use `node --trace-warnings ...` to show where the warning was created)
0|server   | (node:6208) [MONGOOSE] Warning: Duplicate schema index on {"depositReceiptId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6208) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6208) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6208) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6208) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6208) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6208) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6208) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6208) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | Error: listen EADDRINUSE: address already in use 0.0.0.0:3000
0|server   |     at Server.setupListenHandle [as _listen2] (node:net:1817:16)
0|server   |     at listenInCluster (node:net:1865:12)
0|server   |     at doListen (node:net:2014:7)
0|server   |     at process.processTicksAndRejections (node:internal/process/task_queues:83:21) {
0|server   |   code: 'EADDRINUSE',
0|server   |   errno: -4091,
0|server   |   syscall: 'listen',
0|server   |   address: '0.0.0.0',
0|server   |   port: 3000
0|server   | }
0|server   | (node:8120) [MONGOOSE] Warning: Duplicate schema index on {"personalInfo.phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (Use `node --trace-warnings ...` to show where the warning was created)
0|server   | (node:8120) [MONGOOSE] Warning: Duplicate schema index on {"depositReceiptId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:8120) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:8120) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:8120) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:8120) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:8120) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:8120) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:8120) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:8120) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | Error: listen EADDRINUSE: address already in use 0.0.0.0:3000
0|server   |     at Server.setupListenHandle [as _listen2] (node:net:1817:16)
0|server   |     at listenInCluster (node:net:1865:12)
0|server   |     at doListen (node:net:2014:7)
0|server   |     at process.processTicksAndRejections (node:internal/process/task_queues:83:21) {
0|server   |   code: 'EADDRINUSE',
0|server   |   errno: -4091,
0|server   |   syscall: 'listen',
0|server   |   address: '0.0.0.0',
0|server   |   port: 3000
0|server   | }
0|server   | (node:1944) [MONGOOSE] Warning: Duplicate schema index on {"personalInfo.phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (Use `node --trace-warnings ...` to show where the warning was created)
0|server   | (node:1944) [MONGOOSE] Warning: Duplicate schema index on {"depositReceiptId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1944) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1944) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1944) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1944) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1944) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1944) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1944) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1944) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | Error: listen EADDRINUSE: address already in use 0.0.0.0:3000
0|server   |     at Server.setupListenHandle [as _listen2] (node:net:1817:16)
0|server   |     at listenInCluster (node:net:1865:12)
0|server   |     at doListen (node:net:2014:7)
0|server   |     at process.processTicksAndRejections (node:internal/process/task_queues:83:21) {
0|server   |   code: 'EADDRINUSE',
0|server   |   errno: -4091,
0|server   |   syscall: 'listen',
0|server   |   address: '0.0.0.0',
0|server   |   port: 3000
0|server   | }
0|server   | (node:7740) [MONGOOSE] Warning: Duplicate schema index on {"personalInfo.phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (Use `node --trace-warnings ...` to show where the warning was created)
0|server   | (node:7740) [MONGOOSE] Warning: Duplicate schema index on {"depositReceiptId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:7740) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:7740) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:7740) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:7740) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:7740) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:7740) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:7740) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:7740) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | Error: listen EADDRINUSE: address already in use 0.0.0.0:3000
0|server   |     at Server.setupListenHandle [as _listen2] (node:net:1817:16)
0|server   |     at listenInCluster (node:net:1865:12)
0|server   |     at doListen (node:net:2014:7)
0|server   |     at process.processTicksAndRejections (node:internal/process/task_queues:83:21) {
0|server   |   code: 'EADDRINUSE',
0|server   |   errno: -4091,
0|server   |   syscall: 'listen',
0|server   |   address: '0.0.0.0',
0|server   |   port: 3000
0|server   | }
0|server   | (node:6132) [MONGOOSE] Warning: Duplicate schema index on {"personalInfo.phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (Use `node --trace-warnings ...` to show where the warning was created)
0|server   | (node:6132) [MONGOOSE] Warning: Duplicate schema index on {"depositReceiptId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6132) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6132) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6132) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6132) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6132) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6132) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6132) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:6132) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | Error: listen EADDRINUSE: address already in use 0.0.0.0:3000
0|server   |     at Server.setupListenHandle [as _listen2] (node:net:1817:16)
0|server   |     at listenInCluster (node:net:1865:12)
0|server   |     at doListen (node:net:2014:7)
0|server   |     at process.processTicksAndRejections (node:internal/process/task_queues:83:21) {
0|server   |   code: 'EADDRINUSE',
0|server   |   errno: -4091,
0|server   |   syscall: 'listen',
0|server   |   address: '0.0.0.0',
0|server   |   port: 3000
0|server   | }
0|server   | (node:3860) [MONGOOSE] Warning: Duplicate schema index on {"personalInfo.phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (Use `node --trace-warnings ...` to show where the warning was created)
0|server   | (node:3860) [MONGOOSE] Warning: Duplicate schema index on {"depositReceiptId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:3860) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:3860) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:3860) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:3860) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:3860) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:3860) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:3860) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:3860) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | (node:1460) [MONGOOSE] Warning: Duplicate schema index on {"personalInfo.phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (Use `node --trace-warnings ...` to show where the warning was created)
0|server   | (node:1460) [MONGOOSE] Warning: Duplicate schema index on {"depositReceiptId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1460) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1460) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1460) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1460) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1460) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1460) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1460) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:1460) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | ❌ Error using DocumentNumberSystem, falling back to legacy format: TypeError: Cannot read properties of undefined (reading 'generateQuotationNumber')
0|server   |     at exports.createQuotation (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\controllers\quotationController.js:196:52)
0|server   |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
0|server   | ⚠️ Firebase Admin SDK not initialized, skipping sync
0|server   | ⚠️ Receipt Voucher sync failed: fetch failed
0|server   | ⚠️ A4PDF: No payment/financial data received
0|server   | ⚠️ Receipt Voucher sync error: fetch failed
0|server   | ⚠️ A4PDF: No payment/financial data received
0|server   | ❌ Quotation PDF generation failed, falling back to controller: TypeError: Only absolute URLs are supported
0|server   |     at getNodeRequestOptions (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\node-fetch\lib\index.js:1327:9)
0|server   |     at C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\node-fetch\lib\index.js:1450:19
0|server   |     at new Promise (<anonymous>)
0|server   |     at fetch (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\node-fetch\lib\index.js:1447:9)
0|server   |     at EnhancedEmailService.generateQuotationPdf (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\services\enhancedEmailService.js:454:30)
0|server   |     at EnhancedEmailService.generateEnhancedPdfAttachments (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\services\enhancedEmailService.js:372:38)
0|server   |     at EnhancedEmailService.sendInstallmentEmailEnhanced (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\services\enhancedEmailService.js:168:34)
0|server   |     at C:\Users\Administrator\Desktop\Project 3\my-accounting-app\routes\enhancedEmailRoutes.js:54:47
0|server   |     at Layer.handle [as handle_request] (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\layer.js:95:5)
0|server   |     at next (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\route.js:149:13)
0|server   |     at Route.dispatch (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\route.js:119:3)
0|server   |     at Layer.handle [as handle_request] (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\layer.js:95:5)
0|server   |     at C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:284:15
0|server   |     at Function.process_params (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:346:12)
0|server   |     at next (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:280:10)
0|server   |     at Function.handle (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:175:3)
0|server   | (node:4044) [MONGOOSE] Warning: Duplicate schema index on {"personalInfo.phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (Use `node --trace-warnings ...` to show where the warning was created)
0|server   | (node:4044) [MONGOOSE] Warning: Duplicate schema index on {"depositReceiptId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:4044) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:4044) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:4044) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:4044) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:4044) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:4044) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:4044) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:4044) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | ❌ Error using DocumentNumberSystem, falling back to legacy format: TypeError: Cannot read properties of undefined (reading 'generateQuotationNumber')
0|server   |     at exports.createQuotation (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\controllers\quotationController.js:196:52)
0|server   |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
0|server   | ⚠️ Firebase Admin SDK not initialized, skipping sync
0|server   | ⚠️ Receipt Voucher sync failed: fetch failed
0|server   | ⚠️ A4PDF: No payment/financial data received
0|server   | ⚠️ Receipt Voucher sync error: fetch failed
0|server   | ⚠️ A4PDF: No payment/financial data received
0|server   | ❌ Quotation PDF generation failed, falling back to controller: TypeError: Only absolute URLs are supported
0|server   |     at getNodeRequestOptions (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\node-fetch\lib\index.js:1327:9)
0|server   |     at C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\node-fetch\lib\index.js:1450:19
0|server   |     at new Promise (<anonymous>)
0|server   |     at fetch (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\node-fetch\lib\index.js:1447:9)
0|server   |     at EnhancedEmailService.generateQuotationPdf (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\services\enhancedEmailService.js:454:30)
0|server   |     at EnhancedEmailService.generateEnhancedPdfAttachments (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\services\enhancedEmailService.js:372:38)
0|server   |     at EnhancedEmailService.sendInstallmentEmailEnhanced (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\services\enhancedEmailService.js:168:34)
0|server   |     at C:\Users\Administrator\Desktop\Project 3\my-accounting-app\routes\enhancedEmailRoutes.js:54:47
0|server   |     at Layer.handle [as handle_request] (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\layer.js:95:5)
0|server   |     at next (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\route.js:149:13)
0|server   |     at Route.dispatch (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\route.js:119:3)
0|server   |     at Layer.handle [as handle_request] (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\layer.js:95:5)
0|server   |     at C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:284:15
0|server   |     at Function.process_params (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:346:12)
0|server   |     at next (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:280:10)
0|server   |     at Function.handle (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:175:3)
0|server   | (node:5524) [MONGOOSE] Warning: Duplicate schema index on {"personalInfo.phone":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (Use `node --trace-warnings ...` to show where the warning was created)
0|server   | (node:5524) [MONGOOSE] Warning: Duplicate schema index on {"depositReceiptId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5524) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5524) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5524) [MONGOOSE] Warning: Duplicate schema index on {"assetNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5524) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5524) [MONGOOSE] Warning: Duplicate schema index on {"taxInvoiceNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5524) [MONGOOSE] Warning: Duplicate schema index on {"receiptNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5524) [MONGOOSE] Warning: Duplicate schema index on {"documentNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | (node:5524) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
0|server   | ⚠️ Redis not available (running without Redis): Redis is already connecting/connected
0|server   | ❌ Error using DocumentNumberSystem, falling back to legacy format: TypeError: Cannot read properties of undefined (reading 'generateQuotationNumber')
0|server   |     at exports.createQuotation (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\controllers\quotationController.js:196:52)
0|server   |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
0|server   | ⚠️ A4PDF: No payment/financial data received
0|server   | ⚠️ Receipt Voucher sync error: fetch failed
0|server   | ⚠️ A4PDF: No payment/financial data received
0|server   | ❌ Quotation PDF generation failed, falling back to controller: TypeError: Only absolute URLs are supported
0|server   |     at getNodeRequestOptions (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\node-fetch\lib\index.js:1327:9)
0|server   |     at C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\node-fetch\lib\index.js:1450:19
0|server   |     at new Promise (<anonymous>)
0|server   |     at fetch (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\node-fetch\lib\index.js:1447:9)
0|server   |     at EnhancedEmailService.generateQuotationPdf (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\services\enhancedEmailService.js:454:30)
0|server   |     at EnhancedEmailService.generateEnhancedPdfAttachments (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\services\enhancedEmailService.js:372:38)
0|server   |     at EnhancedEmailService.sendInstallmentEmailEnhanced (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\services\enhancedEmailService.js:168:34)
0|server   |     at C:\Users\Administrator\Desktop\Project 3\my-accounting-app\routes\enhancedEmailRoutes.js:54:47
0|server   |     at Layer.handle [as handle_request] (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\layer.js:95:5)
0|server   |     at next (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\route.js:149:13)
0|server   |     at Route.dispatch (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\route.js:119:3)
0|server   |     at Layer.handle [as handle_request] (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\layer.js:95:5)
0|server   |     at C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:284:15
0|server   |     at Function.process_params (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:346:12)
0|server   |     at next (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:280:10)
0|server   |     at Function.handle (C:\Users\Administrator\Desktop\Project 3\my-accounting-app\node_modules\express\lib\router\index.js:175:3)

C:\Users\Administrator\.pm2\logs\server-out.log last 300 lines:
0|server   |   customerInfo: { name: 'ลูกค้า' },
0|server   |   documents: [ 'quotation', 'invoice', 'receipt', 'taxInvoice' ],
0|server   |   installmentData: {
0|server   |     contractNo: 'N/A',
0|server   |     quotationId: 'undefined',
0|server   |     invoiceId: 'undefined',
0|server   |     receiptVoucherId: '68b4302a707c36770f355acf',
0|server   |     customerInfo: {
0|server   |       prefix: 'นางสาว',
0|server   |       gender: 'หญิง',
0|server   |       first_name: 'อาอิ',
0|server   |       last_name: 'กาซอ',
0|server   |       phone_number: '062-207-0097',
0|server   |       email: 'Dev.2Pn@hotmail.com',
0|server   |       birth_date: '2005-07-19',
0|server   |       age: '20',
0|server   |       tax_id: '1-9410-01330-61-7',
0|server   |       occupation: 'นักศึกษา',
0|server   |       income: '15000',
0|server   |       workplace: 'มอปัต',
0|server   |       address: [Object],
0|server   |       contactAddress: [Object],
0|server   |       line_id: '0980931093',
0|server   |       facebook: 'https://www.facebook.com/bisyrun.2024',
0|server   |       authMethod: 'signature',
0|server   |       coordinates: '6.877930, 101.248588',
0|server   |       latitude: '6.87793',
0|server   |       longitude: '101.248588',
0|server   |       mapUrl: 'https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A'
0|server   |     },
0|server   |     totalAmount: 0,
0|server   |     downPayment: 0
0|server   |   },
0|server   |   pdfEndpoints: {
0|server   |     quotation: '/api/pdf/quotation/QT-680831-010',
0|server   |     invoice: '/api/pdf/invoice/QT-680831-010',
0|server   |     receipt: '/api/pdf/installment/receipt?quotationId=undefined',
0|server   |     taxInvoice: '/api/pdf/installment/receipt?quotationId=undefined'
0|server   |   },
0|server   |   branchCode: '00000',
0|server   |   customMessage: 'เลขที่สัญญา: N/A\nวันที่ทำสัญญา: 31/8/2568'
0|server   | }
0|server   | 📧 Processing PDF attachments from downloaded files...
0|server   | 📧 No downloaded files found, generating fresh PDFs...
0|server   | 📧 DEBUG: Starting PDF generation for documents: [ 'quotation', 'invoice', 'receipt', 'taxInvoice' ]
0|server   | 📧 DEBUG: InstallmentData keys: [
0|server   |   'contractNo',
0|server   |   'quotationId',
0|server   |   'invoiceId',
0|server   |   'receiptVoucherId',
0|server   |   'customerInfo',
0|server   |   'totalAmount',
0|server   |   'downPayment'
0|server   | ]
0|server   | 📧 DEBUG: InstallmentData: {
0|server   |   quotationId: 'undefined',
0|server   |   invoiceId: 'undefined',
0|server   |   receiptVoucherId: '68b4302a707c36770f355acf',
0|server   |   contractNo: 'N/A',
0|server   |   orderId: undefined
0|server   | }
0|server   | 
0|server   | 📄 === Generating quotation PDF using correct controller ===
0|server   | 📄 Calling generateQuotationPdf with filename: quotation_undefined.pdf
0|server   | 📄 Generating quotation PDF using Step4 Integration API...
0|server   | ⚠️ No existing order found, creating data for quotation
0|server   | 📄 Created quotation order data: {
0|server   |   _id: undefined,
0|server   |   contractNo: 'N/A',
0|server   |   quotationId: 'undefined',
0|server   |   invoiceId: 'undefined',
0|server   |   customerInfo: {
0|server   |     prefix: 'นางสาว',
0|server   |     gender: 'หญิง',
0|server   |     first_name: 'อาอิ',
0|server   |     last_name: 'กาซอ',
0|server   |     phone_number: '062-207-0097',
0|server   |     email: 'Dev.2Pn@hotmail.com',
0|server   |     birth_date: '2005-07-19',
0|server   |     age: '20',
0|server   |     tax_id: '1-9410-01330-61-7',
0|server   |     occupation: 'นักศึกษา',
0|server   |     income: '15000',
0|server   |     workplace: 'มอปัต',
0|server   |     address: {
0|server   |       houseNo: '12',
0|server   |       moo: '',
0|server   |       lane: '',
0|server   |       road: '',
0|server   |       subDistrict: 'ระเเว้ง',
0|server   |       district: 'ยะรัง',
0|server   |       province: 'ปัตตานี',
0|server   |       zipcode: '94000'
0|server   |     },
0|server   |     contactAddress: {
0|server   |       houseNo: '12',
0|server   |       moo: '',
0|server   |       soi: '',
0|server   |       road: '',
0|server   |       province: 'ปัตตานี',
0|server   |       district: 'ยะรัง',
0|server   |       subDistrict: 'ระเเว้ง',
0|server   |       zipcode: '94000'
0|server   |     },
0|server   |     line_id: '0980931093',
0|server   |     facebook: 'https://www.facebook.com/bisyrun.2024',
0|server   |     authMethod: 'signature',
0|server   |     coordinates: '6.877930, 101.248588',
0|server   |     latitude: '6.87793',
0|server   |     longitude: '101.248588',
0|server   |     mapUrl: 'https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A'
0|server   |   },
0|server   |   items: [],
0|server   |   totalAmount: 0,
0|server   |   downPayment: 0,
0|server   |   monthlyPayment: 0,
0|server   |   installmentTerms: 0,
0|server   |   docFee: 150,
0|server   |   doc_fee: 150,
0|server   |   vatAmount: 0,
0|server   |   taxType: 'none',
0|server   |   beforeTaxAmount: 0,
0|server   |   totalWithTax: 0,
0|server   |   createdAt: 2025-08-31T11:28:01.513Z,
0|server   |   status: 'active',
0|server   |   quotationNumber: 'undefined',
0|server   |   quotationNo: 'undefined',
0|server   |   order_number: 'undefined',
0|server   |   validUntil: 2025-09-30T11:28:01.514Z
0|server   | }
0|server   | 🖋️ QuotationPDF Signature Data (Enhanced Debug): {
0|server   |   customer: 'None',
0|server   |   salesperson: 'None',
0|server   |   authorized: 'None',
0|server   |   hasCustomer: true,
0|server   |   hasSalesperson: true,
0|server   |   hasEmployee: false,
0|server   |   orderKeys: [
0|server   |     '_id',             'contractNo',
0|server   |     'quotationId',     'invoiceId',
0|server   |     'customerInfo',    'items',
0|server   |     'totalAmount',     'downPayment',
0|server   |     'monthlyPayment',  'installmentTerms',
0|server   |     'docFee',          'doc_fee',
0|server   |     'vatAmount',       'taxType',
0|server   |     'beforeTaxAmount', 'totalWithTax',
0|server   |     'createdAt',       'status',
0|server   |     'quotationNumber', 'quotationNo',
0|server   |     'order_number',    'validUntil',
0|server   |     'customer',        'invoiceNumber',
0|server   |     'receiptNumber',   'salesperson'
0|server   |   ]
0|server   | }
0|server   | 🖼️ loadImageBuffer: No URL provided
0|server   | 🖼️ loadImageBuffer: No URL provided
0|server   | 🖼️ loadImageBuffer: No URL provided
0|server   | 🖼️ loadImageBuffer called with: string /uploads/S__15892486-Photoroom.png
0|server   | 🖼️ Found upload file: C:\Users\Administrator\Desktop\Project 3\my-accounting-app\uploads\S__15892486-Photoroom.png
0|server   | 🖋️ Signature loading results: {
0|server   |   customer: 'Failed',
0|server   |   salesperson: 'Failed',
0|server   |   authorized: 'Failed',
0|server   |   companyStamp: 'OK'
0|server   | }
0|server   | 🔍 QuotationPDF Raw signature data received: {
0|server   |   customerSignature: 'EMPTY',
0|server   |   customerSignatureUrl: 'EMPTY',
0|server   |   employeeSignature: 'EMPTY',
0|server   |   salespersonSignatureUrl: 'EMPTY',
0|server   |   authorizedSignature: 'EMPTY',
0|server   |   authorizedSignatureUrl: 'EMPTY'
0|server   | }
0|server   | 🖋️ QuotationPDF Signature Buffers: {
0|server   |   customer: 'NULL',
0|server   |   salesperson: 'NULL',
0|server   |   authorized: 'NULL',
0|server   |   companyStamp: 'OK'
0|server   | }
0|server   | 📄 No valid quotation number found, generating new one...
0|server   | 📄 Generated new quotation number: QT-680831-030
0|server   | 💰 QuotationPDF Document Fee Calculation: {
0|server   |   orderDocFee: 150,
0|server   |   step3DocFee: undefined,
0|server   |   fallbackDocFee: 'N/A',
0|server   |   finalDocFee: 150,
0|server   |   orderType: 'QUOTATION',
0|server   |   quotationNumber: 'QT-680831-030',
0|server   |   invoiceNumber: 'undefined'
0|server   | }
0|server   | 🔍 QuotationPDF Tax Debug: {
0|server   |   taxType: 'none',
0|server   |   documentType: undefined,
0|server   |   docFee: 150,
0|server   |   originalData: { taxType: 'none', vatAmount: 0, docFee: 150 }
0|server   | }
0|server   | 💰 QuotationPDF Price Calculation (updated to match InvoicePDF): {
0|server   |   itemsSubtotal: 0,
0|server   |   docFee: 150,
0|server   |   shipFee: 0,
0|server   |   vatTotal: 0,
0|server   |   taxType: 'none',
0|server   |   summary: { beforeTax: 150, tax: 0, netTotal: 150 },
0|server   |   grandTotal: 150
0|server   | }
0|server   | 🔍 QuotationPDF Debug - Number fields received: {
0|server   |   quotationNumber: 'QT-680831-030',
0|server   |   quotationNo: 'QT-680831-030',
0|server   |   order_number: 'QT-680831-030',
0|server   |   number: undefined,
0|server   |   _id: undefined,
0|server   |   selectedValue: 'QT-680831-030'
0|server   | }
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | info: 2403:6200:8883:192f:1cd3:c7e2:b5e3:cdf3 - - [31/Aug/2025:11:29:01 +0000] "POST /api/enhanced-email/send-installment-enhanced HTTP/1.1" - - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"my-accounting-app","timestamp":"2025-08-31T11:29:01.431Z"}
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 💓 Health check - Server is running
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 Running fallback auto-approval check...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 📊 Auto-Approval Stats Report:
0|server   |    • Uptime: 4 minutes
0|server   |    • Total checks: 0
0|server   |    • Total approved: 0
0|server   |    • Average: 0% approval rate
0|server   | 🤖 Fallback check: ไม่มีคำขอที่ต้องอนุมัติ (75ms)
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 
0|server   | ⏰ Running backend auto creation check...
0|server   | 🏢 Processing 14 branches...
0|server   | 
0|server   | 📍 Processing branch: สำนักงานใหญ่ (00000)
0|server   |    ✅ No pending items for branch 00000
0|server   | 
0|server   | 📍 Processing branch: สาขาหาดใหญ่ (00001)
0|server   |    ✅ No pending items for branch 00001
0|server   | 
0|server   | 📍 Processing branch: สาขาพัทลุง (00003)
0|server   |    ✅ No pending items for branch 00003
0|server   | 
0|server   | 📍 Processing branch: สาขาสตูล (00002)
0|server   |    ✅ No pending items for branch 00002
0|server   | 
0|server   | 📍 Processing branch: สาขานครศรีธรรมราช (00004)
0|server   |    ✅ No pending items for branch 00004
0|server   | 
0|server   | 📍 Processing branch: สาขาสุไหง-โกลก (00005)
0|server   |    ✅ No pending items for branch 00005
0|server   | 
0|server   | 📍 Processing branch: สาขาสายมอ (00006)
0|server   |    ✅ No pending items for branch 00006
0|server   | 
0|server   | 📍 Processing branch: สาขาโคกโพธิ์ (00007)
0|server   |    ✅ No pending items for branch 00007
0|server   | 
0|server   | 📍 Processing branch: สาขารือเสาะ (00008)
0|server   |    ✅ No pending items for branch 00008
0|server   | 
0|server   | 📍 Processing branch: สาขาปาลัส (00009)
0|server   |    ✅ No pending items for branch 00009
0|server   | 
0|server   | 📍 Processing branch: สาขาเบตง (00010)
0|server   |    ✅ No pending items for branch 00010
0|server   | 
0|server   | 📍 Processing branch: สาขานราธิวาส (โดย อุไร ร่าหมาน)
0|server   |    ✅ No pending items for branch โดย อุไร ร่าหมาน
0|server   | 
0|server   | 📍 Processing branch: สาขายะลา (ยะลา)
0|server   |    ✅ No pending items for branch ยะลา
0|server   | 
0|server   | 📍 Processing branch: สาขาบิ๊กซี ยะลา (บิ๊กซียะลา)
0|server   |    ✅ No pending items for branch บิ๊กซียะลา
0|server   | 
0|server   | 📊 Auto creation cycle completed:
0|server   |    ✅ Success: 0
0|server   |    ⏭️  Skipped: 0
0|server   |    ❌ Failed: 0
0|server   |    📈 Total created (all time): 0
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 Running fallback auto-approval check...
0|server   | 🤖 AutoApproval: Processing all pending requests...
0|server   | 🤖 Fallback check: ไม่มีคำขอที่ต้องอนุมัติ (72ms)

