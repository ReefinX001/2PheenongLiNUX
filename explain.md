common-utils.js:350 üì¶ Installment Common Utils loaded - version 1.0.0
(index):64 cdn.tailwindcss.com should not be used in production. To use Tailwind CSS in production, install it as a PostCSS plugin or use the Tailwind CLI: https://tailwindcss.com/docs/installation
(anonymous) @ (index):64
(anonymous) @ (index):64
printer-service.js:33 üîß PrinterService instance created (manual initialization required)
printer-service.js:521 üñ®Ô∏è PrinterService module loaded
step4:1412 üñ®Ô∏è PrinterService loaded for branch: 00000
global-data-manager.js:2963 üìã Global Installment Data Manager loaded with flexible navigation [v1.9.2 - PDF Fixes: Invoice Number Format + Payment Method + Address + VAT Display]
global-data-manager.js:2964 ‚úÖ setStep method available: function
global-data-manager.js:2965 üí° Debug functions available:
global-data-manager.js:2966   - debugGlobalDataManager() - Show all data
global-data-manager.js:2967   - debugStockIssues() - Analyze stock problems
global-data-manager.js:2968   - validateCurrentStock() - Check stock availability
auth-helper.js:271 üîê AuthHelper initialized
receipt-tax-invoice-integration.js:9 üè∑Ô∏è InstallmentReceiptTaxInvoiceManager initialized
receipt-tax-invoice-integration.js:846 ‚úÖ Installment Receipt & Tax Invoice Integration loaded successfully
step4-integration.js:6124 üìã Step 4 Integration loaded
step4:5157 üïê Step 4 loaded at: 2025-09-18T01:43:53.539Z
printer-service.js:46 üîß Initializing PrinterService with Real-time Monitoring...
printer-service.js:80 üìç Detected branch: 00000
printer-service.js:97 üîç Loading branch data for: 00000
global-data-manager.js:160 üìã Initializing Global Installment Data Manager...
global-data-manager.js:202 üè¢ Global Data Manager - Branch Info initialized: {code: '00000', name: '‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà ‚Äî 148/91 ‡∏´‡∏°‡∏π‡πà‡∏ó‡∏µ‡πà 6 ‡∏ï‡∏≥‡∏ö‡∏•‡∏£‡∏π‡∏™‡∏∞‡∏°‡∏¥‡πÅ‡∏• ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ 94000', source: 'localStorage/default', urlParams: ''}
global-data-manager.js:250 üì• Loaded installment data from storage: {step1Items: 1, step1Completed: true, branchCode: '00000', windowBranchCode: '00000', urlParams: ''}
global-data-manager.js:171 ‚úÖ Global Installment Data Manager initialized with branch: 00000
sidebar.js:201 ‚úÖ Sidebar initialized successfully
step4-integration.js:170 üìã Initializing Step 4 Integration...
step4-integration.js:171 üîÑ Stock Update Feature: ‚úÖ ENABLED - ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏ï‡πä‡∏≠‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß
global-data-manager.js:528 üîì Flexible navigation: allowing access to Step 4
global-data-manager.js:316 üîç [DEBUG] getStepData(1) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step1
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
step4-integration.js:295 üîç Debug witness data sources: {witnessFromStep2: {‚Ä¶}, witnessFromLocalStorage: {‚Ä¶}, witnessFromGlobal: {‚Ä¶}, step2DataKeys: Array(9), hasWitnessInStep2: true}
step4-integration.js:310 üîç Merged witness data: {name: '', id_card: '1-9410-01330-61-0', phone: '062-207-0097', relation: '', firstName: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô',¬†‚Ä¶}
step4-integration.js:5323 [Step4-Integration] getImageUrl input: /uploads/products/1751450680954-704246399.jpg
step4-integration.js:5366 [Step4-Integration] getImageUrl output: /uploads/products/1751450680954-704246399.jpg
step4-integration.js:387 üîç Step3 Payment Method Debug: {paymentMethod: 'cash', creditTerm: 'cash', fullStep3Data: {‚Ä¶}}
step4-integration.js:5253 üí≥ Converting payment method: cash
step4-integration.js:5267 üí≥ Payment method result: ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î
global-data-manager.js:316 üîç [DEBUG] getStepData(1) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step1
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
step4-integration.js:451 üîç updatePaymentAmount debug: {step1Data: {‚Ä¶}, step1DataType: 'object', cartItems: Array(1), cartItemsType: 'object', isArray: true,¬†‚Ä¶}
step4-integration.js:99 üí∞ Calculating VAT amount...
step4-integration.js:100 üîç Input data check: {step1Data: {‚Ä¶}, step1DataType: 'object', hasCartItems: true, cartItemsType: 'object', isCartItemsArray: true,¬†‚Ä¶}
step4-integration.js:153 üí∞ VAT calculation result: {subtotal: 13000, docFee: 500, afterDiscount: 13500, taxType: 'inclusive', vatAmount: 883.18}
step4-integration.js:507 üí∞ Payment amount updated: {downPayment: 4900, docFee: 500, vatAmount: 883.18, totalAmount: 5400, taxType: 'inclusive'}
step4-integration.js:526 üí∞ Payment amount updated: {downPayment: 4900, docFee: 500, vatAmount: 883.18, totalAmount: 5400, taxType: 'inclusive'}
step4-integration.js:2333 üîç Enhanced Tax Invoice Availability Check: {hasCartItems: true, cartItemsCount: 1, cartItems: Array(1), hasVatItemsByTaxType: false, hasVatItemsByFlag: false,¬†‚Ä¶}
step4-integration.js:2355 ‚úÖ Tax invoice row shown (always visible)
step4-integration.js:2378 ‚ùå Print tax invoice button hidden - No VAT items
step4-integration.js:213 üì• Loaded summary data for Step 4
step4-integration.js:190 ‚úÖ Step 4 Integration initialized
step4-integration.js:191 üì¶ Stock update is ready to process items when contract is created
step4:1847 üöÄ Step 4 initialized
global-data-manager.js:202 üè¢ Global Data Manager - Branch Info initialized: {code: '00000', name: '‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà ‚Äî 148/91 ‡∏´‡∏°‡∏π‡πà‡∏ó‡∏µ‡πà 6 ‡∏ï‡∏≥‡∏ö‡∏•‡∏£‡∏π‡∏™‡∏∞‡∏°‡∏¥‡πÅ‡∏• ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ 94000', source: 'localStorage/default', urlParams: ''}
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
step4:2031 üí≥ Loading payment method from step3: cash
step4:3893 ÔøΩ MANDATORY: Step4Integration set to DATABASE-ONLY mode
step4:4000 ‚úÖ MANDATORY: Step4Integration configured for DATABASE-ONLY mode
step4:5005 üéØ Connecting Create Contract button to backend...
step4:5040 ‚úÖ Create Contract button connected to backend submission
step4:5265 üîÑ Loading Lottie animation from /Loading/Loading.json
common-utils.js:302 üöÄ Initializing common installment features...
global-data-manager.js:202 üè¢ Global Data Manager - Branch Info initialized: {code: '00000', name: '‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà ‚Äî 148/91 ‡∏´‡∏°‡∏π‡πà‡∏ó‡∏µ‡πà 6 ‡∏ï‡∏≥‡∏ö‡∏•‡∏£‡∏π‡∏™‡∏∞‡∏°‡∏¥‡πÅ‡∏• ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ 94000', source: 'localStorage/default', urlParams: ''}
common-utils.js:322 ‚úÖ Common installment features initialized
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
step4:5282 ‚úÖ Lottie animation loaded successfully
step4:1961 üîÑ Restoring from draft...
step4:5161 üîç Validating user authentication...
step4:5192 üìä Authentication Validation Results: {hasAuthToken: true, hasUserInfo: true, hasBranchInfo: false, userHasId: true, userHasName: true,¬†‚Ä¶}
step4:5199 ‚úÖ Authentication validation passed
printer-service.js:113 ‚úÖ Branch data loaded: ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà
printer-service.js:130 üñ®Ô∏è Printer URL configured: http://100.84.132.71:4004
printer-service.js:148 üîç Testing printer connection: http://100.84.132.71:4004
printer-service.js:149 üîÑ Using proxy endpoint for printer test
printer-service.js:165 ‚úÖ Printer connection successful via proxy
printer-service.js:151 Fetch finished loading: POST "https://www.2pheenong.com/api/printer/print".
testConnection @ printer-service.js:151
setupPrinter @ printer-service.js:133
init @ printer-service.js:48
await in init
(anonymous) @ printer-service.js:509
printer-service.js:190 üïê Starting real-time printer monitoring (60s intervals)...
printer-service.js:54 ‚úÖ PrinterService initialized successfully with real-time monitoring
step4:1526 üí∞ Loading document fee from step3...
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
step4:1530 üìã Step3 data: {plan_type: 'custom', down_payment: 4900, installment_count: 12, installment_amount: 2100, credit_amount: 25200,¬†‚Ä¶}
step4:1537 ‚úÖ Document fee found in step3 data: 500
step4:1553 üí∞ Document fee displayed: 500
step4:1574 üí∏ Updating today payment amount...
global-data-manager.js:316 üîç [DEBUG] getStepData(1) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step1
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
step4:1580 Step1 data: {cartItems: Array(1), selectedProducts: Array(1), totalAmount: 13000, subTotal: 0, branchCode: '00000',¬†‚Ä¶}
step4:1581 Step3 data: {plan_type: 'custom', down_payment: 4900, installment_count: 12, installment_amount: 2100, credit_amount: 25200,¬†‚Ä¶}
step4:1600 üìä Calculated subtotal (excluding doc fee): 4900
step4:1624 üìä Calculated tax amounts (normalized): {subtotal: 4900, downPayment: 4900, docFee: 500, baseForTax: 5400, afterDiscount: 5400,¬†‚Ä¶}
step4:1628 üìä Final total with tax: 5400
step4:1633 üîç Down Payment Debug: {step3_down_payment: 4900, step3_downPayment: undefined, parsedDownPayment: 4900, docFee: 500}
step4:1645 üí∞ Payment calculation (Fixed - ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡∏∞‡πÉ‡∏ö‡∏Å‡∏≥‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏µ‡∏¢‡∏≠‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô): {downPayment: 4900, docFee: 500, vatAmount: 353.27, totalWithTax: 5400, todayTotal: 5400,¬†‚Ä¶}
step4:1679 ‚úÖ Today payment amount updated - ‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ (‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î): 5400 (‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå: 4900 + ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°: 500 + VAT: 353.27 )
step4:1682 üìä PAYMENT SUMMARY - Step4 (Fixed): {step4_downPayment: 4900, step4_docFee: 500, step4_vatAmount: 353.27, step4_todayPayment: 5400, step4_totalWithTax: 5400,¬†‚Ä¶}
global-data-manager.js:293 üîç [DEBUG] updateStepData(3) called
global-data-manager.js:294 üîç [DEBUG] incoming data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
global-data-manager.js:295 üîç [DEBUG] existing data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
global-data-manager.js:272 üíæ Saved installment data to storage
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
global-data-manager.js:404 ‚úÖ Step 3 validation passed
global-data-manager.js:514 üìç Suggested next step: 2 (flexible navigation enabled)
global-data-manager.js:304 ÔøΩ [DEBUG] merged result: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
global-data-manager.js:305 ÔøΩüìù Updated step3 data: {plan_type: 'custom', down_payment: 4900, installment_count: 12, installment_amount: 2100, credit_amount: 25200,¬†‚Ä¶}
step4:1697 üîß FIXED: Updated step3Data with VAT info for backend: {vatAmount: 353.27, totalWithTax: 5400, taxType: 'inclusive'}
global-data-manager.js:316 üîç [DEBUG] getStepData(1) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step1
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
step4:4160 ‚úÖ Step4: Items summary loaded with 1 items
step4:3948 üö® MANDATORY DATABASE-ONLY: Contract creation starting...
step4:3967 üñãÔ∏è MANDATORY: Ensuring all signatures are included in database submission...
step4:3975 üîç MANDATORY Signature status for database: {customer: 'Present', salesperson: 'Present', authorized: 'Present'}
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
global-data-manager.js:293 üîç [DEBUG] updateStepData(2) called
global-data-manager.js:294 üîç [DEBUG] incoming data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:295 üîç [DEBUG] existing data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:272 üíæ Saved installment data to storage
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
global-data-manager.js:404 ‚úÖ Step 2 validation passed
global-data-manager.js:514 üìç Suggested next step: 2 (flexible navigation enabled)
global-data-manager.js:304 ÔøΩ [DEBUG] merged result: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:305 ÔøΩüìù Updated step2 data: {customer: {‚Ä¶}, witness: {‚Ä¶}, attachments: {‚Ä¶}, customerType: 'individual', signature: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAA‚Ä¶A//+AZ4FDAAAABklEQVQDAB8bZ/ww3CNhAAAAAElFTkSuQmCC',¬†‚Ä¶}
step4:3994 ‚úÖ MANDATORY: Signatures prepared for database submission
step4-integration.js:2429 ‚è∞ Process started at: 8:44:01 AM - Max timeout: 6 minutes
step4-integration.js:2445 üì¶ Checking stock availability BEFORE creating contract...
global-data-manager.js:316 üîç [DEBUG] getStepData(1) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step1
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
step4-integration.js:2851 üì¶ Checking stock availability for: [{‚Ä¶}]
step4-integration.js:2876 üì¶ Stock check data: {branch_code: '00000', allowNegativeStock: false, continueOnError: false, checkOnly: true, items: Array(1)}
step4:5012 üìù Create Contract button clicked
step4:4666 üöÄ Starting backend submission...
step4:4669 üîç Debugging customer data before submission:
global-data-manager.js:316 üîç [DEBUG] getStepData(1) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step1
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
step4:4673 üìã Step 1 data: {cartItems: Array(1), selectedProducts: Array(1), totalAmount: 13000, subTotal: 0, branchCode: '00000',¬†‚Ä¶}
step4:4674 üìã Step 2 data: {customer: {‚Ä¶}, witness: {‚Ä¶}, attachments: {‚Ä¶}, customerType: 'individual', signature: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAA‚Ä¶A//+AZ4FDAAAABklEQVQDAB8bZ/ww3CNhAAAAAElFTkSuQmCC',¬†‚Ä¶}
step4:4692 ‚úÖ ‡∏ä‡∏∑‡πà‡∏≠: ‡∏≠‡∏≤‡∏°‡∏µ‡∏ô
step4:4692 ‚úÖ ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•: ‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô
step4:4692 ‚úÖ ‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô: 1-9410-01330-61-7
step4:4692 ‚úÖ ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå: 062-207-0097
step4:4199 üì¶ Collecting all installment data from Steps 1-4...
step4:4288 üì¶ Getting Step 1 product data...
step4:4315 ‚úÖ Found products in cartItems
step4:4353 üë§ Getting Step 2 customer data...
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
step4:4361 ‚úÖ Got customer data from globalInstallmentManager
step4:4402 üìã Processing customer data: {prefix: '‡∏ô‡∏≤‡∏¢', gender: '‡∏ä‡∏≤‡∏¢', first_name: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', last_name: '‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', phone_number: '062-207-0097',¬†‚Ä¶}
step4:4447 ‚úÖ Final customer data structure: {customer: {‚Ä¶}, signatures: {‚Ä¶}}
step4:4448 üîç Address validation check: {hasHouseNo: true, hasSubDistrict: true, hasDistrict: true, hasProvince: true, hasZipcode: true}
step4:4501 üìã Getting Step 3 invoice data...
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
step4:4518 ‚úÖ Got Step 3 data from globalInstallmentManager: {plan_type: 'custom', down_payment: 4900, installment_amount: 2100, installment_count: 12, document_fee: 500,¬†‚Ä¶}
step4:4547 üí≥ Getting Step 4 payment data...
step4:4567 üîë JWT Payload: {userId: '681eb8aeb1593cea17568916', username: 'admin', role: 'Super Admin', iat: 1758109519}
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
step4:4640 üîç Real Authentication Data: {branch_code: '00000', salesperson_id: '681eb8aeb1593cea17568916', salesperson_name: '‡∏≠‡∏≤‡∏£‡∏µ‡∏ü‡∏µ‡∏ô ‡∏Å‡∏≤‡∏ã‡∏≠', salesperson_signature: '‡∏°‡∏µ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô', created_by: 'admin',¬†‚Ä¶}
step4:4180 üîÑ Mapping plan type: custom
step4:4193 ‚úÖ Plan type mapped: {original: 'custom', mapped: 'plan1'}
step4:4277 ‚úÖ Data collected successfully: {items: Array(1), customer_type: 'individual', customer: {‚Ä¶}, witness: {‚Ä¶}, attachments: {‚Ä¶},¬†‚Ä¶}
step4:4738 üì§ Sending data to backend: {items: Array(1), customer_type: 'individual', customer: {‚Ä¶}, witness: {‚Ä¶}, attachments: {‚Ä¶},¬†‚Ä¶}
step4:4739 üîç Payment Controller Validation Check: {hasCustomer: true, customerType: 'individual', firstName: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', lastName: '‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', phone: '062-207-0097',¬†‚Ä¶}
step4:4766  POST https://www.2pheenong.com/api/installment/create 400 (Bad Request)
submitInstallmentToBackend @ step4:4766
await in submitInstallmentToBackend
(anonymous) @ step4:5034
step4:4818 ‚ùå Error response data: {success: false, message: 'Missing required fields'}
step4:4870 ‚ùå Full error details: {status: 400, statusText: '', errorMessage: 'Missing required fields', url: '/api/installment/create', timestamp: '2025-09-18T01:44:02.898Z'}
submitInstallmentToBackend @ step4:4870
await in submitInstallmentToBackend
(anonymous) @ step4:5034
step4:4899 ‚ùå Submission error: Error: Missing required fields
    at submitInstallmentToBackend (step4:4878:17)
    at async HTMLButtonElement.<anonymous> (step4:5034:13)
submitInstallmentToBackend @ step4:4899
await in submitInstallmentToBackend
(anonymous) @ step4:5034
step4:4199 üì¶ Collecting all installment data from Steps 1-4...
step4:4288 üì¶ Getting Step 1 product data...
step4:4315 ‚úÖ Found products in cartItems
step4:4353 üë§ Getting Step 2 customer data...
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
step4:4361 ‚úÖ Got customer data from globalInstallmentManager
step4:4402 üìã Processing customer data: {prefix: '‡∏ô‡∏≤‡∏¢', gender: '‡∏ä‡∏≤‡∏¢', first_name: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', last_name: '‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', phone_number: '062-207-0097',¬†‚Ä¶}
step4:4447 ‚úÖ Final customer data structure: {customer: {‚Ä¶}, signatures: {‚Ä¶}}
step4:4448 üîç Address validation check: {hasHouseNo: true, hasSubDistrict: true, hasDistrict: true, hasProvince: true, hasZipcode: true}
step4:4501 üìã Getting Step 3 invoice data...
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
step4:4518 ‚úÖ Got Step 3 data from globalInstallmentManager: {plan_type: 'custom', down_payment: 4900, installment_amount: 2100, installment_count: 12, document_fee: 500,¬†‚Ä¶}
step4:4547 üí≥ Getting Step 4 payment data...
step4:4567 üîë JWT Payload: {userId: '681eb8aeb1593cea17568916', username: 'admin', role: 'Super Admin', iat: 1758109519}
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
step4:4640 üîç Real Authentication Data: {branch_code: '00000', salesperson_id: '681eb8aeb1593cea17568916', salesperson_name: '‡∏≠‡∏≤‡∏£‡∏µ‡∏ü‡∏µ‡∏ô ‡∏Å‡∏≤‡∏ã‡∏≠', salesperson_signature: '‡∏°‡∏µ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô', created_by: 'admin',¬†‚Ä¶}
step4:4766 Fetch failed loading: POST "https://www.2pheenong.com/api/installment/create".
submitInstallmentToBackend @ step4:4766
await in submitInstallmentToBackend
(anonymous) @ step4:5034
step4-integration.js:2879 Fetch finished loading: POST "https://www.2pheenong.com/api/stock/check-after-sale".
checkStockAvailability @ step4-integration.js:2879
createContract @ step4-integration.js:2448
window.step4Integration.createContract @ step4:3955
await in window.step4Integration.createContract
(anonymous) @ step4-integration.js:2389
step4:4180 üîÑ Mapping plan type: custom
step4:4193 ‚úÖ Plan type mapped: {original: 'custom', mapped: 'plan1'}
step4:4277 ‚úÖ Data collected successfully: {items: Array(1), customer_type: 'individual', customer: {‚Ä¶}, witness: {‚Ä¶}, attachments: {‚Ä¶},¬†‚Ä¶}
step4:5036 Failed to create contract: Error: Missing required fields
    at submitInstallmentToBackend (step4:4878:17)
    at async HTMLButtonElement.<anonymous> (step4:5034:13)
(anonymous) @ step4:5036
step4-integration.js:2898 üì¶ Stock check result: {success: true, data: {‚Ä¶}, message: '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡∏≤‡∏¢)'}
printer-service.js:305 ‚úÖ Printer status changed: ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
global-data-manager.js:316 üîç [DEBUG] getStepData(1) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step1
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
global-data-manager.js:404 ‚úÖ Step 1 validation passed
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
global-data-manager.js:404 ‚úÖ Step 2 validation passed
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
global-data-manager.js:404 ‚úÖ Step 3 validation passed
global-data-manager.js:1849 üì§ Submitting installment contract...
global-data-manager.js:1861 üßπ Cleared all quotation/contract related storage before creating new contract
global-data-manager.js:316 üîç [DEBUG] getStepData(1) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step1
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
global-data-manager.js:404 ‚úÖ Step 1 validation passed
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
global-data-manager.js:404 ‚úÖ Step 2 validation passed
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
global-data-manager.js:404 ‚úÖ Step 3 validation passed
global-data-manager.js:1872 üîç Pre-validating stock availability...
global-data-manager.js:316 üîç [DEBUG] getStepData(1) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step1
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
global-data-manager.js:2522 üîç Stock validation result: {targetBranch: '00000', totalItems: 1, validItems: 1, errors: 0, errorDetails: Array(0)}
global-data-manager.js:852 üîß Creating installment payload with real authentication data...
global-data-manager.js:1700 üîç Getting real salesperson data from authentication...
global-data-manager.js:1711 üíæ localStorage userInfo: {id: '681eb8aeb1593cea17568916', username: 'admin', userName: 'admin', role: 'Super Admin', fullName: null,¬†‚Ä¶}
global-data-manager.js:1712 üíæ localStorage branchInfo: {}
global-data-manager.js:1635 üåê Fetching user data from API...
global-data-manager.js:1657 ‚úÖ API response received: {success: true, data: {‚Ä¶}}
global-data-manager.js:1687 üìã Processed user data: {id: '681eb8aeb1593cea17568916', username: 'admin', userName: 'admin', role: 'Super Admin', firstName: undefined,¬†‚Ä¶}
global-data-manager.js:1722 ‚úÖ Successfully fetched user data from API
global-data-manager.js:1730 üåü API has real name, using API data: ‡∏≠‡∏≤‡∏£‡∏µ‡∏ü‡∏µ‡∏ô ‡∏Å‡∏≤‡∏ã‡∏≠
 üíæ Updated localStorage with API data
 üîç [DEBUG] getStepData(3) called
 üîç [DEBUG] stepKey: step3
 üîç [DEBUG] raw data exists: true
 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
 üìä Final salesperson data: {id: '681eb8aeb1593cea17568916', name: '‡∏≠‡∏≤‡∏£‡∏µ‡∏ü‡∏µ‡∏ô ‡∏Å‡∏≤‡∏ã‡∏≠', username: 'admin', branch_code: '00000', signature: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAA‚Ä¶A//+AZ4FDAAAABklEQVQDAB8bZ/ww3CNhAAAAAElFTkSuQmCC',¬†‚Ä¶}
 üë§ Real salesperson data retrieved: {id: '681eb8aeb1593cea17568916', name: '‡∏≠‡∏≤‡∏£‡∏µ‡∏ü‡∏µ‡∏ô ‡∏Å‡∏≤‡∏ã‡∏≠', username: 'admin', branch_code: '00000', signature: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAA‚Ä¶A//+AZ4FDAAAABklEQVQDAB8bZ/ww3CNhAAAAAElFTkSuQmCC',¬†‚Ä¶}
 üîç [DEBUG] getStepData(1) called
 üîç [DEBUG] stepKey: step1
 üîç [DEBUG] raw data exists: true
 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
 üîç [DEBUG] getStepData(2) called
 üîç [DEBUG] stepKey: step2
 üîç [DEBUG] raw data exists: true
 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
 üîç [DEBUG] Step 2 customer data check:
    - Has customer: true
    - Has customer.first_name: true
    - Has customer.last_name: true
    - Has customer.phone_number: true
    - Has customer.address: true
    - Has witness: true
    - Has attachments: true
 üîç [DEBUG] getStepData(3) called
 üîç [DEBUG] stepKey: step3
 üîç [DEBUG] raw data exists: true
 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
 üîç [DEBUG] getInstallmentPayload - Step data retrieved:
    Step 1 data: EXISTS
    Step 2 data: EXISTS
    Step 3 data: EXISTS
 üîç [DEBUG] Step 2 detailed check:
    Customer object: true
    Customer first_name: ‡∏≠‡∏≤‡∏°‡∏µ‡∏ô
    Customer last_name: ‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô
    Customer phone: 062-207-0097
    Customer email: Dev.2Pn@hotmail.com
    Customer address: true
    Witness data: true
    Attachments: true
 üîç Getting quotation data from global manager...
 üîç [DEBUG] getStepData(1) called
 üîç [DEBUG] stepKey: step1
 üîç [DEBUG] raw data exists: true
 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
 üîç [DEBUG] getStepData(2) called
 üîç [DEBUG] stepKey: step2
 üîç [DEBUG] raw data exists: true
 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
 üîç [DEBUG] Step 2 customer data check:
    - Has customer: true
    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
global-data-manager.js:575 üì¶ Item pricing debug: {name: 'iPad Air5 10.9" Wi-Fi 64GB Space Gray', originalPrice: 13000, salePrice: undefined, usedPrice: 13000, quantity: 1,¬†‚Ä¶}
global-data-manager.js:587 üí∞ Pricing breakdown (FIXED): {itemSubtotal: 13000, docFee: 500, beforeDocFee: 13000, afterDocFee: 13500}
global-data-manager.js:617 üí∞ VAT Calculation - ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ VAT: {subTotal: 13500, vatAmount: 0, totalAmount: 13500}
global-data-manager.js:624 üí∞ Quotation pricing calculation (FIXED & CONSISTENT): {itemSubtotal: 13000, docFee: 500, subTotal: 13500, hasVatItems: false, vatAmount: 0,¬†‚Ä¶}
global-data-manager.js:644 üîç ITEMS DEBUG - Final prices for PDF generation (FIXED): {step1ItemsRaw: Array(1), docFeeDetails: {‚Ä¶}, calculationSummary: {‚Ä¶}}
global-data-manager.js:671 üîç CUSTOMER DATA DEBUG (global-data-manager): {originalCustomerData: {‚Ä¶}, taxIdSources: {‚Ä¶}, addressSources: {‚Ä¶}}
global-data-manager.js:695 üîç TRANSFORMED CUSTOMER DEBUG: {transformedCustomer: {‚Ä¶}, finalTaxId: '1-9410-01330-61-7', finalAddress: {‚Ä¶}}
global-data-manager.js:720 üìÑ Generated placeholder quotation number (backend will create actual): QT-680918-1758159854639
global-data-manager.js:896 üìã Generated quotation data for payload: {quotationNumber: 'QT-680918-1758159854639', hasItems: true, hasSummary: true, itemsCount: 2}
global-data-manager.js:911 üè∑Ô∏è Product name mapping: {originalName: 'iPad Air5 10.9" Wi-Fi 64GB Space Gray', productName: undefined, title: undefined, description: undefined, finalName: 'iPad Air5 10.9" Wi-Fi 64GB Space Gray',¬†‚Ä¶}
global-data-manager.js:946 üè™ Items with branch info: {currentBranch: '00000', itemsCount: 1, items: Array(1)}
global-data-manager.js:993 üîç Customer Data Debug: {step2Data: {‚Ä¶}, customerData: {‚Ä¶}, step2Customer: {‚Ä¶}, hasFirstName: true, hasLastName: true,¬†‚Ä¶}
global-data-manager.js:1005 üîç RAW TAX ID DEBUG: {originalTaxId: '1-9410-01330-61-7', alternativeTaxId: undefined, idCard: undefined, willProcessAs: '1-9410-01330-61-7', type: 'string'}
global-data-manager.js:1017 üßπ Cleaning name: {original: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', type: 'string', length: 5}
global-data-manager.js:1026 üßπ Name cleaned: {original: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', cleaned: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', changed: false}
global-data-manager.js:1017 üßπ Cleaning name: {original: '‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', type: 'string', length: 7}
global-data-manager.js:1026 üßπ Name cleaned: {original: '‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', cleaned: '‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', changed: false}
global-data-manager.js:1056 üîç Transformed Customer: {prefix: '‡∏ô‡∏≤‡∏¢', first_name: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', last_name: '‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', phone_number: '0622070097', email: 'Dev.2Pn@hotmail.com',¬†‚Ä¶}
global-data-manager.js:1062 üîç Witness data sources for payload: {witnessFromStep2: {‚Ä¶}, witnessFromLocalStorage: {‚Ä¶}, hasLocalStorageData: true}
global-data-manager.js:1074 üîÑ Merged witness data for payload: {name: '', id_card: '1-9410-01330-61-0', phone: '062-207-0097', relation: '', firstName: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô',¬†‚Ä¶}
global-data-manager.js:1091 üéØ Final transformed witness for backend payload: {name: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô ‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', id_card: '1941001330610', phone: '0622070097', relation: 'friend'}
global-data-manager.js:1133 üìÅ Found id_card_image: {hasServerUrl: true, hasBase64: false}
global-data-manager.js:1133 üìÅ Found selfie_image: {hasServerUrl: true, hasBase64: false}
global-data-manager.js:1133 üìÅ Found customer_signature: {hasServerUrl: true, hasBase64: true}
global-data-manager.js:1146 üìã Transformed attachments data: {id_card_image: 'Found', selfie_image: 'Found', customer_signature: 'Found', sources: {‚Ä¶}}
global-data-manager.js:1164 üîß Customer data transformation: {original: {‚Ä¶}, transformed: {‚Ä¶}}
global-data-manager.js:1200 üí∞ Tax Info from Step3: {taxType: 'inclusive', vatAmount: 353.27, beforeTaxAmount: 4579.439252336449, totalWithTax: 5400, receiptAmount: 5400,¬†‚Ä¶}
global-data-manager.js:1235 üîÑ Plan type mapping: {original: 'custom', mapped: 'manual', selectedPlanId: 'custom_plan'}
global-data-manager.js:1306 ‚úÖ Final nationalId validation: {value: '1941001330617', type: 'string', length: 13, isValid: true}
global-data-manager.js:2755 üñãÔ∏è GlobalManager getCustomerSignature: {step2Data: undefined, step2SignatureUrl: undefined, localStorage: null, result: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAA‚Ä¶A//+AZ4FDAAAABklEQVQDAB8bZ/ww3CNhAAAAAElFTkSuQmCC'}
global-data-manager.js:2755 üñãÔ∏è GlobalManager getCustomerSignature: {step2Data: undefined, step2SignatureUrl: undefined, localStorage: null, result: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAA‚Ä¶A//+AZ4FDAAAABklEQVQDAB8bZ/ww3CNhAAAAAElFTkSuQmCC'}
global-data-manager.js:1541 üîç Transformed payload for API: {customerFirstName: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', customerPhone: '0622070097', customerTaxId: '1941001330617', itemsCount: 1, planType: 'manual',¬†‚Ä¶}
global-data-manager.js:1556 üè¢ Branch code debug: {windowBranchCode: '00000', step1BranchCode: '00000', finalBranchCode: '00000', urlParams: ''}
global-data-manager.js:1563 ‚úÖ Validation check - Customer data ready: {taxIdLength: 13, phoneLength: 10, hasFirstName: true, hasLastName: true, witnessName: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô ‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô',¬†‚Ä¶}
global-data-manager.js:1574 üîç Stock validation info: {targetBranch: '00000', itemsWithIMEI: 1, allItemsData: Array(1)}
global-data-manager.js:1894 üìã Installment payload: {firstName: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', lastName: '‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', nationalId: '1941001330617', phone: '0622070097', email: 'Dev.2Pn@hotmail.com',¬†‚Ä¶}
global-data-manager.js:1896 üîç Payment method debug: {stepPaymentMethod: 'cash', payloadPaymentMethod: 'cash', payloadPaymentInfo: {‚Ä¶}, purchaseType: 'installment', transactionType: 'credit_sale',¬†‚Ä¶}
global-data-manager.js:1906 üñãÔ∏è Signatures debug in payload: {customerSignature: true, customerSignatureUrl: true, salespersonSignature: true, salespersonSignatureUrl: true, authorizedSignature: true,¬†‚Ä¶}
global-data-manager.js:1918 üîç Validation check (using installment API):
global-data-manager.js:1919   Customer data: {prefix: '‡∏ô‡∏≤‡∏¢', first_name: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', last_name: '‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', phone_number: '0622070097', email: 'Dev.2Pn@hotmail.com',¬†‚Ä¶}
global-data-manager.js:1920   Customer ID Card: 1941001330617
global-data-manager.js:1921   Customer Address: ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
global-data-manager.js:1922   Tax ID: 1941001330617
global-data-manager.js:1923   Items count: 1
global-data-manager.js:1924   Plan type: manual
global-data-manager.js:1925   PlanType (camelCase): manual
global-data-manager.js:1926   Date: 2025-09-18
global-data-manager.js:1927   Down payment: 4900
global-data-manager.js:1928   Installment count: 12
global-data-manager.js:1929   Branch code: 00000
global-data-manager.js:1932 üìã Complete Customer Data Structure: {customerIdCard: '1941001330617', customerAddress: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•', taxId: '1941001330617', nationalId: '1941001330617', nationalIdLength: 13,¬†‚Ä¶}
global-data-manager.js:1968 ‚úÖ Pre-API validation passed
global-data-manager.js:1995 üßπ Cleaned payload for API submission
global-data-manager.js:1998 üîç Final payload validation before API call:
global-data-manager.js:1999   nationalId: 1941001330617 (type: string , length: 13 )
global-data-manager.js:2000   nationalId regex test: true
global-data-manager.js:2001   firstName: ‡∏≠‡∏≤‡∏°‡∏µ‡∏ô
global-data-manager.js:2002   lastName: ‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô
global-data-manager.js:2003   phone: 0622070097
global-data-manager.js:2004   Has points field: false
global-data-manager.js:2005   Has customer.points field: false
global-data-manager.js:2006   Has customerData.points field: false
global-data-manager.js:2014 üîç Deep payload scan: {hasPointsReference: false, hasReferenceTypeReference: false, hasHistoryReference: false, payloadSize: 118047}
global-data-manager.js:2050 üë§ No existing customerId found, searching for existing customer first...
global-data-manager.js:2058 üîç Searching for existing customer with: {taxId: '1941001330617', phone: '0622070097', searchQuery: '1941001330617'}
global-data-manager.js:2070 üîç Customer search result: {success: true, data: Array(1), count: 1}
global-data-manager.js:2074 ‚úÖ Found existing customer with ID: 6887c58d64dbf3bdefa516dd
auth-helper.js:236 ‚úÖ Successfully extracted userId from JWT token: 681eb8aeb1593cea17568916
global-data-manager.js:2210 üîÑ Installment payload transformation: {contractNumber: '', customerId: '6887c58d64dbf3bdefa516dd', customerName: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô ‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', customerPhone: '0622070097', productId: '68918c022525710c73a18445',¬†‚Ä¶}
global-data-manager.js:2288 ‚úÖ All installment required fields validated successfully
step4:4199 üì¶ Collecting all installment data from Steps 1-4...
step4:4288 üì¶ Getting Step 1 product data...
step4:4315 ‚úÖ Found products in cartItems
step4:4353 üë§ Getting Step 2 customer data...
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
step4:4361 ‚úÖ Got customer data from globalInstallmentManager
step4:4402 üìã Processing customer data: {prefix: '‡∏ô‡∏≤‡∏¢', gender: '‡∏ä‡∏≤‡∏¢', first_name: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', last_name: '‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', phone_number: '062-207-0097',¬†‚Ä¶}
step4:4447 ‚úÖ Final customer data structure: {customer: {‚Ä¶}, signatures: {‚Ä¶}}
step4:4448 üîç Address validation check: {hasHouseNo: true, hasSubDistrict: true, hasDistrict: true, hasProvince: true, hasZipcode: true}
step4:4501 üìã Getting Step 3 invoice data...
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
step4:4518 ‚úÖ Got Step 3 data from globalInstallmentManager: {plan_type: 'custom', down_payment: 4900, installment_amount: 2100, installment_count: 12, document_fee: 500,¬†‚Ä¶}
step4:4547 üí≥ Getting Step 4 payment data...
step4:4567 üîë JWT Payload: {userId: '681eb8aeb1593cea17568916', username: 'admin', role: 'Super Admin', iat: 1758109519}
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
step4:4640 üîç Real Authentication Data: {branch_code: '00000', salesperson_id: '681eb8aeb1593cea17568916', salesperson_name: '‡∏≠‡∏≤‡∏£‡∏µ‡∏ü‡∏µ‡∏ô ‡∏Å‡∏≤‡∏ã‡∏≠', salesperson_signature: '‡∏°‡∏µ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô', created_by: 'admin',¬†‚Ä¶}
step4:1979 ‚úÖ Draft auto-saved
step4:4180 üîÑ Mapping plan type: custom
step4:4193 ‚úÖ Plan type mapped: {original: 'custom', mapped: 'plan1'}
step4:4277 ‚úÖ Data collected successfully: {items: Array(1), customer_type: 'individual', customer: {‚Ä¶}, witness: {‚Ä¶}, attachments: {‚Ä¶},¬†‚Ä¶}
global-data-manager.js:2291  POST https://www.2pheenong.com/api/installment/create 500 (Internal Server Error)
submitInstallment @ global-data-manager.js:2291
await in submitInstallment
createContract @ step4-integration.js:2477
await in createContract
window.step4Integration.createContract @ step4:3955
await in window.step4Integration.createContract
(anonymous) @ step4-integration.js:2389
global-data-manager.js:2300 üì° Response status: 500 
global-data-manager.js:2311 ‚ùå Server error response: {success: false, message: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞‡πÑ‡∏î‡πâ', error: 'Installment validation failed: endDate: Path `endD‚Ä¶quired., createdBy: Path `createdBy` is required.'}
submitInstallment @ global-data-manager.js:2311
await in submitInstallment
createContract @ step4-integration.js:2477
await in createContract
window.step4Integration.createContract @ step4:3955
await in window.step4Integration.createContract
(anonymous) @ step4-integration.js:2389
global-data-manager.js:2342 ‚ùå Complete error details: {status: 500, statusText: '', message: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞‡πÑ‡∏î‡πâ', details: {‚Ä¶}, url: 'https://www.2pheenong.com/api/installment/create'}
submitInstallment @ global-data-manager.js:2342
await in submitInstallment
createContract @ step4-integration.js:2477
await in createContract
window.step4Integration.createContract @ step4:3955
await in window.step4Integration.createContract
(anonymous) @ step4-integration.js:2389
global-data-manager.js:2459 ‚ùå Error submitting installment: Error: ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞‡πÑ‡∏î‡πâ
    at GlobalInstallmentDataManager.submitInstallment (global-data-manager.js:2337:31)
    at async Step4Integration.createContract (step4-integration.js:2477:30)
    at async window.step4Integration.createContract (step4:3955:30)
submitInstallment @ global-data-manager.js:2459
await in submitInstallment
createContract @ step4-integration.js:2477
await in createContract
window.step4Integration.createContract @ step4:3955
await in window.step4Integration.createContract
(anonymous) @ step4-integration.js:2389
global-data-manager.js:2462 üîç Debug Information for Error Analysis:
global-data-manager.js:316 üîç [DEBUG] getStepData(1) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step1
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "cartItems": [
    {
      "id": "68918c022525710c73a18445",
      "branchStockId": "68918c022525710c73a18445",
      "productId": "68918c022525710c73a18442",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "brand": "Apple",
      "price": 13000,
      "quantity": 1,
      "totalPrice": 13000,
      "image": "/uploads/products/1751450680954-704246399.jpg",
      "barcode": "1478523699632",
      "maxStock": 1,
      "downAmount": 4900,
      "downInstallment": 2100,
      "downInstallmentCount": 12,
      "pricePayOff": 15590,
      "purchaseType": [
        "cash",
        "installment"
      ],
      "stockType": "imei",
      "imei": "1478523699632"
    }
  ],
  "selectedProducts": [
    {
      "id": "68918c022525710c73a18445",
      "imei": "1478523699632",
      "name": "iPad Air5 10.9\" Wi-Fi 64GB Space Gray",
      "price": 13000,
      "quantity": 1
    }
  ],
  "totalAmount": 13000,
  "subTotal": 0,
  "branchCode": "00000",
  "salespersonId": null,
  "salespersonName": null
}
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
global-data-manager.js:2615 (index)Value(index)ValueCurrent Branch'00000'URL BranchnullCart Items1Customer Name'‡∏≠‡∏≤‡∏°‡∏µ‡∏ô ‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô'Payment Plan'custom'Down Payment4900Object
global-data-manager.js:2625 üõí Cart Items Details:
global-data-manager.js:2627 1. iPad Air5 10.9" Wi-Fi 64GB Space Gray {imei: '1478523699632', price: 13000, branch: 'unknown', stockId: 'N/A'}
step4-integration.js:2813 ‚ùå Error creating contract: Error: ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞‡πÑ‡∏î‡πâ
    at GlobalInstallmentDataManager.submitInstallment (global-data-manager.js:2337:31)
    at async Step4Integration.createContract (step4-integration.js:2477:30)
    at async window.step4Integration.createContract (step4:3955:30)
createContract @ step4-integration.js:2813
await in createContract
window.step4Integration.createContract @ step4:3955
await in window.step4Integration.createContract
(anonymous) @ step4-integration.js:2389
step4-integration.js:2832 ‚úÖ Global timeout cleared - process completed normally in 22.2s
step4:3956 ‚úÖ MANDATORY: Contract saved to database successfully
global-data-manager.js:2291 Fetch failed loading: POST "https://www.2pheenong.com/api/installment/create".
submitInstallment @ global-data-manager.js:2291
await in submitInstallment
createContract @ step4-integration.js:2477
await in createContract
window.step4Integration.createContract @ step4:3955
await in window.step4Integration.createContract
(anonymous) @ step4-integration.js:2389
printer-service.js:225 üì± Page became hidden, printer monitoring will pause...
step4:4199 üì¶ Collecting all installment data from Steps 1-4...
step4:4288 üì¶ Getting Step 1 product data...
step4:4315 ‚úÖ Found products in cartItems
step4:4353 üë§ Getting Step 2 customer data...
global-data-manager.js:316 üîç [DEBUG] getStepData(2) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step2
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "customer": {
    "prefix": "‡∏ô‡∏≤‡∏¢",
    "gender": "‡∏ä‡∏≤‡∏¢",
    "first_name": "‡∏≠‡∏≤‡∏°‡∏µ‡∏ô",
    "last_name": "‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô",
    "phone_number": "062-207-0097",
    "email": "Dev.2Pn@hotmail.com",
    "birth_date": "2000-07-19",
    "age": "25",
    "tax_id": "1-9410-01330-61-7",
    "occupation": "‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤",
    "income": "15000",
    "workplace": "‡∏°‡∏≠‡∏õ‡∏±‡∏ï",
    "address": {
      "houseNo": "12",
      "moo": "5",
      "lane": "",
      "road": "",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "zipcode": "94000"
    },
    "contactAddress": {
      "houseNo": "12",
      "moo": "5",
      "soi": "",
      "road": "",
      "province": "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
      "district": "‡∏¢‡∏∞‡∏£‡∏±‡∏á",
      "subDistrict": "‡∏£‡∏∞‡πÄ‡πÄ‡∏ß‡πâ‡∏á",
      "zipcode": "94000"
    },
    "line_id": "0980931093",
    "facebook": "https://www.facebook.com/bisyrun.2024",
    "authMethod": "signature",
    "coordinates": "6.877930, 101.248588",
    "latitude": "6.87793",
    "longitude": "101.248588",
    "mapUrl": "https://maps.app.goo.gl/Zcik6pNCyMfzqZk4A"
  },
  "witness": {
    "name": "",
    "id_card": "1-9410-01330-61-0",
    "phone": "062-207-0097",
    "relation": ""
  },
  "attachments": {
    "idCard": {
      "url": "/uploads/documents/idCard_temp_1758122331038.jpg",
      "uploadedAt": "2025-09-17T16:33:24.269Z",
      "fileName": "idCard_capture.jpg"
    },
    "selfie": {
      "url": "/uploads/documents/selfie_temp_1758122331605.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "selfie_capture.jpg"
    },
    "salarySlip": {
      "url": "/uploads/documents/salarySlip_temp_1758122334507.jpg",
      "uploadedAt": "2025-09-17T16:33:24.270Z",
      "fileName": "salarySlip_capture.jpg"
    },
    "customerSignature": {
      "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO
global-data-manager.js:322 üîç [DEBUG] Step 2 customer data check:
global-data-manager.js:323    - Has customer: true
global-data-manager.js:324    - Has customer.first_name: true
global-data-manager.js:325    - Has customer.last_name: true
global-data-manager.js:326    - Has customer.phone_number: true
global-data-manager.js:327    - Has customer.address: true
global-data-manager.js:328    - Has witness: true
global-data-manager.js:329    - Has attachments: true
step4:4361 ‚úÖ Got customer data from globalInstallmentManager
step4:4402 üìã Processing customer data: {prefix: '‡∏ô‡∏≤‡∏¢', gender: '‡∏ä‡∏≤‡∏¢', first_name: '‡∏≠‡∏≤‡∏°‡∏µ‡∏ô', last_name: '‡∏£‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏ô', phone_number: '062-207-0097',¬†‚Ä¶}
step4:4447 ‚úÖ Final customer data structure: {customer: {‚Ä¶}, signatures: {‚Ä¶}}
step4:4448 üîç Address validation check: {hasHouseNo: true, hasSubDistrict: true, hasDistrict: true, hasProvince: true, hasZipcode: true}
step4:4501 üìã Getting Step 3 invoice data...
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
step4:4518 ‚úÖ Got Step 3 data from globalInstallmentManager: {plan_type: 'custom', down_payment: 4900, installment_amount: 2100, installment_count: 12, document_fee: 500,¬†‚Ä¶}
step4:4547 üí≥ Getting Step 4 payment data...
step4:4567 üîë JWT Payload: {userId: '681eb8aeb1593cea17568916', username: 'admin', role: 'Super Admin', iat: 1758109519}
global-data-manager.js:316 üîç [DEBUG] getStepData(3) called
global-data-manager.js:317 üîç [DEBUG] stepKey: step3
global-data-manager.js:318 üîç [DEBUG] raw data exists: true
global-data-manager.js:319 üîç [DEBUG] result data: {
  "plan_type": "custom",
  "down_payment": 4900,
  "installment_count": 12,
  "installment_amount": 2100,
  "credit_amount": 25200,
  "doc_fee": 500,
  "credit_term": "12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
  "selectedPlan": {
    "id": "custom_plan",
    "name": "‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏≠‡∏á",
    "type": "custom",
    "description": "‡∏î‡∏≤‡∏ß‡∏ô‡πå 4,900.00 ‡∏ú‡πà‡∏≠‡∏ô 12 ‡∏á‡∏ß‡∏î ‡∏á‡∏ß‡∏î‡∏•‡∏∞ 2,100.00",
    "downPayment": 4900,
    "installmentCount": 12,
    "installmentAmount": 2100,
    "docFee": 500,
    "creditAmount": 25200,
    "totalAmount": 30600,
    "paymentMethod": "transfer",
    "recommended": false,
    "color": "red"
  },
  "paymentMethod": "cash",
  "creditTerm": "cash",
  "timestamp": "2025-09-17T16:34:26.560Z",
  "docFee": 500,
  "discount": 0,
  "discountType": "amount",
  "signature": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAADACAYAAACERl7/AAAQAElEQVR4AezdB7gVxd3H8f+gIooiAjaw0AQs+KCIIliw81oQWzAmETGSKAYbFqKJgkYJisaGXYM12EUFg4D0KiJKk36pggpKL4J5+c31XG+vp2z5+ni45+zu2Z35LD7358zOTKX/8Q8CCCCAAAIIIIBAqAQqGf8ggAACCCBQZgG+gAACmRQgwGVSn2sjgAACCCCAAALlECDAlQONrwRDgFIggAACCCAQVwECXFzvPPVGAAEEEEAgngKRqDUBLhK3kUoggAACCCCAQJwECHBxutvUFQEEgiFAKRBAAIEKChDgKgjI1xFAAAEEEEAAgXQLEODSLR6M61EKBBBAAAEEEAixAAEuxDePoiOAAAIIIJBeAa4WFAECXFDuBOVAAAEEEEAAAQRKKUCAKyUUhyGAQDAEKAUCCCCAgBkBjr8FCCCAAAIIIIBAyAQIcGW+YXwBAQQQQAABBBDIrAABLrP+XB0BBBBAIC4C1BOBJAoQ4JKIyakQQAABBBBAAIF0CBDg0qHMNRAIhgClQAABBBCIiAABLiI3kmoggAACCCCAQHwE0hvg4uNKTRFAAAEEEEAAgZQJEOBSRsuJEUAAAQSSJcB5EEAgrwABLq8HnxBAAAEEEEAAgcALEOACf4soYDAEKAUCCCCAAALBESDABedeUBIEEEAAAQQQiJpAiupDgEsRLKdFAAEEEEAAAQRSJUCAS5Us50UAAQSCIUApEEAgggIEuAjeVKqEAAIIIIAAAtEWIMBF+/4Go3aUAgEEEEAAAQSSKkCASyonJ0MAAQQQQACBZAlwnqIFCHBF27AHAQQQQAABBBAIpAABLpC3hUIhgEAwBCgFAgggEEwBAlww7wulQgABBBBAAAEEihQgwBVJE4wdlAIBBBBAAAEEEMgvQIDLL8JnBBBAAAEEwi9ADSIuQICL+A2meggggAACCCAQPQECXPTuKTVCIBgClAIBBBBAIGUCBLiU0XJiBBBAAAEEEEAgNQJRDnCpEeOsCCCAAAIIIIBAhgUIcBm+AVweAQQQQCBoApQHgeALEOCCf48oIQIIIIAAAgggkEeAAJeHgw8IBEOAUiCAAAIIIFCcAAGuOB32IYAAAggggAACARQoIsAFsKQUCQEEEEAAAQQQQMALEOA8A38ggAACCCRFgJMggEBaBAhwaWHmIggggAACCCCAQPIECHDJs+RMwRCgFAgggAACCERegAAX+VtMBRFAAAEEEECgZIFwHUGAC9f9orQIIIAAAggggIAR4PhLgAACCAREgGIggAACpRUgwJVWiuMQQAABBBBAAIGACBDgAnIjglEMSoEAAggggAACYRAgwIXhLlFGBBBAAAEEgixA2dIuQIBLOzkXRAABBBBAAAEEKiZAgKuYH99GAIFgCFAKBBBAIFYCBLhY3W4qiwACCCCAAAJRECDAJesuch4EEEAAAQQQQCBNAgS4NEFzGQQQQAABBAoTYBsC5REgwJVHje8ggAACCCCAAAIZFCDAZRCfSyMQDAFKgQACCCAQNgECXNjuGOVFAAEEEEAAgdgLBCLAxf4uAIAAAggggAACCJRBgABXBiwORQABBBAIlACFQSC2AgS42N56Ko4AAggggAACYRUgwIX1zlHuYAhQCgQQQAABBDIgQIDLADqXRAABBBBAAIF4C1S09gS4igryfQQQQAABBBBAIM0CBLg0g3M5BBBAIBgClAIBBMIsQIAL892j7AgggAACCCAQSwECXCxvezAqTSkQQAABBBBAoHwCBLjyufEtBBBAAAEEEMiMAFfdIUCA24HAvwgggAACCCCAQJgECHBhuluUFQEEgiFAKRBAAIEMCxDgMnwDuDwCCCCAAAIIIFBWAQJcWcWCcTylQAABBBBAAIEYCxDgYnzzqXrwBSZOnGinnnqqfx1//PHWvHlzO+qoo+yII46wJk2aWKNGjaxevXp20EEH2QEHHGD77ruv1apVyw488EA75JBD/L633347+BWlhAggkCYBLhMVAQJcVO4k9UirwJIlS+yiiy7ygalSpUqml3POnEvuq2XLljZixAj/mjRpkk2ZMsWmTZtmM2fOtNmzZ9vcuXMtKyvLli5daitWrLDvvvvOVq1aZcuWLbPFixf7fZdeemmecqmslStXtgYNGlibNm3S6sbFEEAAAQSSI0CAS44jZ4mwwPDhw+2ss86y6tWr20477eTD0MEHH2zvvfeeD0z/+9//TK9UEThX9lBYXFlU1p9++skWLFhgI0eO9PVxzvm61ahRw9q2bWtq+bMU/cNpEUAAAQQqLkCAq7ghZ4iYwFNPPWWHH3647brrrj7cnHbaaTZkyBBbs2aN/fzzz6WurVq6FPh23nln31JXp06dnG7NDh062HXXXZfzuvXWW30IVLjK/9I1y/rKfY6vv/7aFEJvueUWa9Gihe2zzz6+bvkromv88MMPNnjwYGu5o+XPOedDnbpl9fmhhx4y/kEAAQQQCIZADANcMOApRTAE1q9f78NalSpVfFhzzlmXLl1s1qxZtnXr1hILucsuu9h+++1nl1xyiQ9j+l4iPG3fvt22bdtmau1auXKl7+bM2tHdqZav/v372xNPPJHzeuCBB0q8VnkPaNy4se8qffDBB03dsN9++61t3rzZB8a1a9f6cNeuXTsfLhMOiWsp1KlbVi1yCoDOOe+kMKou5MRx/EQAAQQQSK8AAS693lwtwwKrV682hRU9A+acsz333NOHtS1bthRbMueyj23atKndd999PvwoqCnk6dmzt956y4cxDSwo9kQB26n66zm4AQMG+OflNm3a5FsZVbdHHnnELrjgAtt///1NQdU5l1P65cuX+y5k55wPdNp/xRVX2PPPP59zDG8QiJwAFUIgQAIEuADdDIqSGoEePXpY3bp1rcqOVraaNWvahx9+6FvFiruaAolGd952220+rKklSq1VX331ld1xxx3FfTUy+2644QZ7//337ZtvvvGtkTJQsOvevbvVrl3b1DWcqKxaGl955RXr3LmzD3R77LGHHX300fbkk08mDuEnAggggEASBQhwScTkVMERuOuuu/xzXs4569mzpy1atMiKamVzztnuu+9uJ5xwgmnKDYUUtaypq7N3797BqZRZIMrSq1cvP8pVXcOy6tOnj7fLHeg2bNhgU6dO9d3Kzjkf9hT61A0biEpQCAQQQCDkAgS4kN9Aip9X4OOPP7bq1avbvffe61uN8u799ZNa2NQd+uabb/ouQwWOcePG2cUXX/zrQbwrlUC3bt1MdolAN2HCBGvYsKHvdk2cQM8DqiVPAyGcy+52VfetWuk0LUriOH4igAACCJROoGwBrnTn5CgE0i6gOc/q169v55xzjh8tWlgB1EJ05plnmsKaWtjUHao50go7lm3lF9CEw5qfTsZqodPzga1atbLddtstz0k1gEStdJqY2LnsVjpNQKxRs3kO5AMCCCCAQAEBAlwBEjaETUAP4OsZt4ULFxZadAU7PfemkZeffPKJ7y4t9EA2pkRAI3THjh1rGzdu9M8TatCHgrNa4JxzOddUK50mID7ssMP8c3RVq1a1q666yk9anHMQb0IrQMERQCC5AgS45HpytjQLaJRk+/btfTDIf2nN3zZq1CibN2+enXfeeX5Os/zH8Dn9App2RV3XGhSigREzZsywTp06mUa7au68RIkU+P7973/7ZcO0XQNQHnvsscRufiKAAAKxFiDAxfr2h7fy6ppTd9sHH3xQoBJq2dF0FsOGDbOTTjrJt+aYFTiMDQER0KTJL774oh/tqlY43duuXbtarVq1cu6dtmkKGI2Mdc6ZpoG5/fbbA1IDioEAAgikX6BS+i/JFRGomMALL7zgW9PU3Zb/TOpy0/Nwf/zjH/Pv4nOIBNTSpgmE1UKn8KaWVg1OSVRBAyY0+bFzzq9D26hRI+PZOeMfBBBIhUBAz0mAC+iNoViFC6hF7eqrry7QZbr33nubuuUU7nL/oi/8LGwNm4Dmo9MyXwpzd999t9WrVy9P65wGTejZOXW1ahBFVlZW2KpIeRFAAIEyCRDgysTFwZkS+Oijj3yr25gxYwoUQb+wNWebHowvsJMNkRPQxMy632qde+edd6xBgwa+FU4VVcDTcmEKeFrLVs9HanvIXxQfAQQQKCBAgCtAwoagCbRo0cLOP/98P19b7rI550y/wDXvGK1uuWXi817r
step4:4640 üîç Real Authentication Data: {branch_code: '00000', salesperson_id: '681eb8aeb1593cea17568916', salesperson_name: '‡∏≠‡∏≤‡∏£‡∏µ‡∏ü‡∏µ‡∏ô ‡∏Å‡∏≤‡∏ã‡∏≠', salesperson_signature: '‡∏°‡∏µ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô', created_by: 'admin',¬†‚Ä¶}
step4:1979 ‚úÖ Draft auto-saved
step4:4180 üîÑ Mapping plan type: custom
step4:4193 ‚úÖ Plan type mapped: {original: 'custom', mapped: 'plan1'}
step4:4277 ‚úÖ Data collected successfully: {items: Array(1), customer_type: 'individual', customer: {‚Ä¶}, witness: {‚Ä¶}, attachments: {‚Ä¶},¬†‚Ä¶}
printer-service.js:203 üì± Page not visible, skipping printer status check
printer-service.js:221 üì± Page became visible, resuming printer monitoring...
